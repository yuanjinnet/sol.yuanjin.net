<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="cn"><head><!-- <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7; IE=9" />--><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1"><!-- 打包成应用后，小米NoteLTE不支持 target-densitydpi=device-dpi,  --><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="shortcut icon" href="image/favicon.ico"><link rel="Bookmark" href="image/favicon.ico"><!--link rel="icon" type="image/gif" href="favicon.gif"/--><link rel="apple-touch-icon" sizes="180x180" href="image/favicon_180.png"><!-- For iPhone 6 Plus with @3× display: --><link rel="apple-touch-icon" sizes="152x152" href="image/favicon_152.png"><!-- For iPad with @2× display running iOS ≥ 7: --><link rel="apple-touch-icon" sizes="144x144" href="image/favicon_144.png"><!-- For iPad with @2× display running iOS ≤ 6: --><link rel="apple-touch-icon" sizes="120x120" href="image/favicon_120.png"><!-- For iPhone with @2× display running iOS ≥ 7: --><link rel="apple-touch-icon" sizes="114x114" href="image/favicon_114.png"><!-- For iPhone with @2× display running iOS ≤ 6: --><link rel="apple-touch-icon" sizes="76x76" href="image/favicon_76.png"><!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≥ 7: --><link rel="apple-touch-icon" sizes="72x72" href="image/favicon_72.png"><!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≤ 6: --><link rel="apple-touch-icon" href="image/favicon_57.png"><!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: --><base target="_blank"><meta name="keywords" content="创作社,创业协作社区,自由职业者,分享经济,创业,分享,合伙,众筹,虚拟公司,无边界组织,匿名聊天,越屏即焚"><!-- 要用英文逗号分隔 --><meta name="description" content="创作社：创业协作社区。梦想被现实阻挡？快来招募团队、众筹资金，创业轻松启航；厌倦了一成不变的生活？快来发现有趣的项目，合伙协作共享。与众不同，为自己创作！"><!-- google 225Byte --><title>创作社，为自己创作</title><!-- google 70Byte, baidu 56byte --></head><body><h1 style="display:none;opacity:0;z-index:-2;position:fixed;top:0;left:0;height:0">创作社，创业协作社区：与众不同，为自己创作！</h1><div id="splash" style="transition:all 1s ease-in-out 0s;z-index:10;position:fixed;top:0;left:0;width:100%;height:100%;background:#3f3f3f url(image/Splash.jpg) no-repeat scroll bottom center/cover border-box;overflow:hidden"><img src="image/Slogan.png" style="position:absolute;top:0;left:0;height:60%"></div><pre class="Reminder" data-bind="css:{Active: space.reminding()}, html: space.remindContent()">
    </pre><div class="Progress" data-bind="style:{left:space.progress()+'%'}" style="position:fixed;height:3px;width:1%;top:0;left:-1%;z-index:4;background-color:#fff;transition:unset;-webkit-transition:unset;-moz-transition:unset"></div><table id="commonDialog" class="Dialog" data-bind="with:dialog, css:{Active:dialog.visible()}"><td><fieldset class="Content"><pre class="Title" data-bind="html:text()"></pre><div class="QRCode" data-bind="with:dialog.qrcode=new QRCode($element,{width:$element.offsetWidth,height:$element.offsetHeight,colorDark:'#333'}),visible:qrcodeText()"><div class="LogoIcon"></div></div><div class="Row Control2 Confirm" data-bind="visible:scenario()==='LOGOUT' || scenario()==='BACK2LIST' || scenario()==='DELETE' || scenario()==='APPROVE' || scenario()==='COMPLAIN'"><button class="Button Default" data-bind="click:confirmDialog"><span data-bind="text:scenario()==='LOGOUT'?'退 出':scenario()==='BACK2LIST'?'返 回':scenario()==='DELETE'?'删 除':scenario()==='APPROVE'?'签 约':scenario()==='COMPLAIN'?'投 诉':'确 认'"></span> <span class="DotLoader Active" data-bind="if:busy()"><div></div><div></div><div></div></span></button> <button class="Button Cancel" data-bind="click:cancelDialog">取 消</button></div><div class="Row Control1 Alert" data-bind="visible:scenario()==='ALERT'"><button class="Button Default" data-bind="click:cancelDialog">关 闭</button></div></fieldset></td></table><table id="payDialog" class="Dialog" data-bind="css:{Active:space.dialogNow()==='DIALOG_PAY'}"><td><fieldset class="Content" data-bind="click:function(){},clickBubble:false,with:tradeModel"><fieldset class="PayAmount"><div class="Block Text" data-bind="html:dialogTitle()||'您将要支付'"></div><div class="Row Money"><span data-bind="text:space.symbolOfCurCode($data.payCurrency()) + ' ' + $data.payTotal(), visible:parseFloat($data.payTotal())>0"></span> <input type="text" maxlength="6" onkeyup="value=value.replace(/[^\d\.]/g,&#34;&#34;)" placeholder="" required data-bind="value:$data.userTotal, visible:!parseFloat($data.payTotal())>0"></div></fieldset><div class="PayChannelSet"><div class="Row Text">请选择支付渠道</div><div data-bind="foreach: tradeModel.payChannelSet"><button class="Button PayChannel" data-bind="css:{alipay:$data.id==='alipay',wxpay:$data.id==='wxpay'}, text:$data.description, click:$parent.pay.bind($parent, $data),visible:$data.serviceReady"></button><!-- serviceReady: 如果用户没装微信，就别劝他装了 --></div></div><a class="Row Text Policy" data-bind="click:refundPolicy.bind($data,true)">完成服务之前，您可随时申请退款</a><div class="AgreementBlock" data-bind="css:{Active:refundPolicy()}"><div class="Heading">支付及退款政策</div><div class="Body">亲爱的用户，<br>我们非常重视每一位创作者提供的价值，也非常重视每一位消费者得到的收获。<br>1）每一笔款项支付后，有24小时的“冷静期”。在此期间，消费者可无条件要求退回全额款项。 2）消费者获得约定的产品或服务，并且确认满意之前，能够随时要求退回款项。具体退回金额，以创作者事先声明的退款条件为准。 3）创作者可以声明退款条件，在不同时间段提出的退款要求，可以退回不同比例的金额，以保障创作者已经付出的时间、精力、机会等成本。 4）如果创作者没有声明退款条件，则按照默认政策执行，即：以消费者的权益为先，退回全部金额。 5）本政策，将按照“消费者优先，创作者优先，本平台承保”的原则，持续改进、完善。</div><button class="Button Submit Agreement" data-bind="click:refundPolicy.bind($data,false)"><i class="fa fa-check"></i> 我 同 意</button></div><button class="Button Close" data-bind="click:space.dialogNow.bind(space,'')"><i class="fa fa-times-circle"></i></button></fieldset></td></table><table id="loginDialog" class="Dialog" data-bind="css:{Active:space.dialogNow()==='DIALOG_LOGIN'}"><td><!-- Stage of 登录 --><fieldset class="Content" data-bind="click:function(){},clickBubble:false,with: accountModel"><div class="SelectBox LangPicker"><select id="langPicker" data-bind="value: starModel.userLang, options:sow.Locale.LangSet, optionsValue:'code', optionsText:'name'"></select><i class="fa fa-angle-down" onclick="$(&#34;#langPicker&#34;).click()"></i></div><div class="Title" data-bind="text:dialogTitle()||'为自己创作！'"></div><div class="LoginLine AccountLine"><i class="fa fa-user"></i> <input class="LoginLineInput" type="text" placeholder="邮箱或手机号" maxlength="50" data-bind="value: loginPerson().uid, visible:uidType()=='uid'" pattern="[_\w\-\.]+@[\w\-]+(\.[\w\-]+)*\.[a-zA-Z]{2,4}|(\+\d{1,3}-)?\d{11}|\*\d{1,12}" onkeyup="13==event.keyCode&&document.getElementById(&#34;pwdInput&#34;).focus()"><!--  onkeyup="value=value.replace(/[^_\w\-\.@\+]/g,'')" 加了这个，在某些环境下就无法登录，例如安卓，例如百度浏览器。 --> <input class="LoginLineInput" type="email" placeholder="电子邮箱地址" maxlength="50" data-bind="value: loginPerson().email, visible: uidType()=='email'" pattern="[_\w\-\.]+@[\w\-]+(\.[\w\-]+)*\.[a-zA-Z]{2,4}" onkeyup="13==event.keyCode?document.getElementById(&#34;pwdInput&#34;).focus():value=value.replace(/[^_\w\-\.@]/g,&#34;&#34;)"><div class="LoginLineInput" data-bind="visible:uidType()=='phone'"><select class="Select ITC" data-bind="options: sow.Locale.NationSet, optionsValue:'itc', optionsText:function(item){return item.itc+'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'+item.name_en+(item.name_native?' ('+item.name_native+')':'');}, value: loginPerson().countryCode"></select> <input class="Text Line CallNumber" type="tel" placeholder="手机号码" onkeyup="13==event.keyCode?document.getElementById(&#34;pwdInput&#34;).focus():value=value.replace(/[^\d]/g,&#34;&#34;)" data-bind="value: loginPerson().callNumber" pattern="\d{11}" maxlength="11"></div><input class="LoginLineInput" type="text" placeholder="远近星号，以 * 开头" maxlength="13" onkeyup="13==event.keyCode?document.getElementById(&#34;pwdInput&#34;).focus():value=value.replace(/[^\*\d]/g,&#34;&#34;)" data-bind="value: loginPerson().aiid, visible:uidType()=='aiid'" pattern="\*\d{1,12}"><div class="SelectBox LoginLineAction"><select id="accountPicker" data-bind="options: [{value:'uid',text:'账号'}, {value:'phone',text:'手机'}, {value:'email',text:'邮箱'}] , optionsValue:'value', optionsText:'text', value:uidType"></select><!-- tabindex="-1" 使得按tab键切换不会经过本元素 --> <i class="fa fa-angle-down" onclick="$(&#34;#accountPicker&#34;).click()"></i></div></div><div class="FeedbackLine" data-bind="text: Locale[starModel.userLang()].uidErrorFeedback[uidErrorType()]"></div><div class="LoginLine PasswordLine"><i class="fa fa-key"></i> <input id="pwdInput" class="LoginLineInput" type="password" placeholder="不需注册，即设即用" data-bind="attr:{maxlength:sow.Const.MAX_PWD}, value: loginPerson().pwdUser" pattern="[^ ]{6,}" , onkeyup="13==event.keyCode?&#34;login&#34;===accountModel.pwdType()?accountModel.login():document.getElementById(&#34;pcdInput&#34;).focus():value=value.replace(/\s/g,&#34;&#34;)"><!--如果动态修改类型：, attr:{type: (pwdType()==='register' || pwdType()==='reset')?'text':'password'} --> <button class="LoginLineAction" data-bind="click:toggleReset, text:pwdType()=='reset'?'取消重设':'找回密码'"></button></div><div class="FeedbackLine" data-bind="text: Locale[starModel.userLang()].pwdErrorFeedback[pwdErrorType()]"></div><div class="LoginLine PasscodeLine" data-bind="visible: pwdType()=='reset'"><i class="fa fa-th"></i> <input id="pcdInput" class="LoginLineInput" type="text" maxlength="6" onkeyup="13==event.keyCode?accountModel.resetPwd():value=value.replace(/[^\d]/g,&#34;&#34;)" placeholder="您收到的验证码" pattern="\d{6}" data-bind="value: loginPerson().pcdUser"> <button class="LoginLineAction" data-bind="click:sendConfirmTicket">重新发送</button></div><div class="FeedbackLine" data-bind="text: Locale[starModel.userLang()].pcdErrorFeedback[pcdErrorType()], visible: pwdType()=='reset'"></div><div class="Text Line Agreement" data-bind="visible: pwdType()!=='reset'">点击登录，代表您已同意<a data-bind="click:loginAgreement.bind($data,true)">用户协议</a></div><button class="Button Submit Login" data-bind="visible: pwdType()==='login', click: login"><i class="fa fa-sign-in-alt"></i> 登 录</button> <button class="Button Submit Reset" data-bind="visible: pwdType()==='reset', click: resetPwd"><i class="fa fa-wrench"></i> 重 置</button><div class="FeedbackLine Submitted" data-bind="text: Locale[starModel.userLang()].loginFeedback[loginResultType()]"></div><!-- button class="Tecon Cancel" data-bind="click: space.dialogNow.bind($data, '')">取 消</button --><div class="AgreementBlock" data-bind="css:{Active:loginAgreement()}"><div class="Heading">用户协议</div><div class="Body">重要须知：本协议是您（个人或单一实体）与本应用的开发者之间，关于开发者向您提供本应用所涉相关服务的法律协议。在此特别提醒，用户（您）欲使用相关服务，必须事先认真阅读本服务条款中各条款，包括免除或者限制开发者责任的免责条款及对用户的权利限制。本服务条款一旦发生变更, 将在网页上公布修改内容。修改后的服务条款一旦在网页上公布即有效代替原来的服务条款。您可随时登陆网页查阅最新版服务条款。您若不同意对服务条款的修改，您应不使用或主动取消相关服务。您的任何对本应用的登陆、查看等使用行为将被视为您对本协议和相关修改的理解和接受。<br>如果您选择接受本协议开通服务，即表示您同意接受协议各项条件的约束。如果您不同意本服务条款，则不能获得使用本服务的权利。您若有违反本条款的任何规定，开发者有权随时中止或终止您服务的使用资格并保留追究相关法律责任的权利<br>1. 本应用及服务由开发者开发，受中华人民共和国版权法及国际版权条约和其他知识产权法及条约的保护。<br>2.用户在遵守法律及本条款的前提下可依本协议使用应用及享受服务，但用户无权实施包括但不限于下列行为：<br>2.1 删除应用及其他副本上所有关于版权的信息、内容；<br>2.2 对应用进行反向工程、反向汇编、反向编译等；<br>2.3 对于应用中相关信息等，未经开发者书面同意，用户不得擅自实施包括但不限于下列行为：使用、复制、修改、链接、转载、汇编、发表、出版，建立镜像站点、擅自借助本应用发展与之有关的衍生产品、作品等。<br>2.4 发表、传送、传播、储存任何违反国家法律法规政策的内容。<br>2.5 发表、传送、传播、储存任何侮辱、诽谤、色情、暴力、侵害他人权益、引起他人不安的内容。<br>2.6 发表、传送、传播、储存侵害他人知识产权、商业机密权等合法权利的内容。<br>2.7 进行任何危害计算机网络安全的行为，包括但不限于：使用未经许可的数据或进入未经许可的服务器及帐户；未经允许进入公众计算机网络或者他人计算机系统并删除、修改、增加存储信息；未经许可，企图探查、扫描、测试本应用系统或网络的弱点或其它实施破坏网络安全的行为； 企图干涉、破坏本应用系统或网站的正常运行，故意传播恶意程序或病毒以及其他破坏干扰正常网络信息服务的行为；伪造 TCP/IP 数据包名称或部分名称。<br>3. 用户须明白，使用本服务产品涉及到互联网服务，可能会受到各个环节不稳定因素的影响。因此服务存在不可抗力、计算机病毒或黑客攻击、系统不稳定、用户所在位置、用户关机以及其他任何技术、互联网络、通信线路原因等造成的服务中断或不能满足用户要求的风险。<br>4. 用户须明白，在使用本服务产品存在有来自任何他人的包括威胁性的、诽谤性的、令人反感的或非法的内容或行为或对他人权利的侵犯（包括知识产权）的匿名或冒名的信息的风险，用户须和开发者共同承担以上风险，开发者对服务不作任何类型的担保，不论是明确的或隐含的，包括所有有关信息真实性、适商性、适于某一特定用途、所有权和非侵权性的默示担保和条件，对因此导致任何因用户不正当或非法使用服务产生的直接、间接、偶然、特殊及后续的损害，不承担任何责任。<br>5．使用本服务必须遵守国家有关法律和政策等，维护国家利益，保护国家安全，并遵守本条款，对于用户违法或违反本协议的使用(包括但不限于言论发表、传送等)而引起的一切责任，由用户负全部责任。<br>6．尊重用户个人隐私信息的私有性是本应用及服务的原则，开发者将会采取合理的措施保护用户的个人隐私信息，除法律或有法律赋予权限的政府部门要求或用户同意等原因外，未经用户同意不向第三方公开、透露用户个人隐私信息。<br>7. 特别提醒用户，使用互联网必须遵守国家有关的政策和法律，如刑法、国家安全法、保密法、计算机信息系统安全保护条例等，保护国家利益，保护国家安全，对于违法使用互联网络而引起的一切责任，由用户负全部责任。<br>7.1. 用户不得使用本应用及服务发送或传播任何妨碍社会治安或非法、虚假、骚扰性、侮辱性、恐吓性、伤害性、破坏性、挑衅性、淫秽色情性等内容的信息。<br>7.2. 用户不得使用本应用及服务发送或传播敏感信息和违反国家法律制度的信息。<br>7.3. 用户应当在发现非法或不良内容时，积极向开发者就此内容投诉，<br>7.4. 本应用及服务同大多数因特网产品一样，易受到各种安全问题的困扰，包括但不限于：<br>1） 透露详细个人资料，被不法分子利用，造成现实生活中的骚扰。<br>2） 哄骗、破译密码。<br>3） 下载安装的其它软件中含有“特洛伊木马”等病毒，威胁到计算设备上信息和数据的安全，继而威胁对本应用及服务的使用。<br>8. 请用户注意勿在使用本应用及服务中透露自己的各类财产帐户、银行卡、信用卡、及对应密码等重要资料，否则由此带来的任何损失由用户自行承担。<br>9. 用户应规范、合法地使用本应用及服务，如用户有在公共环境下捣乱、骚扰、欺骗其他用户等行为或者实施其他违反本协议的行为，一经发现，开发者有权停止服务。<br>10.用户须明白，开发者为了本应用整体运营的需要，开发者拥有随时修改或中断、中止或终止服务而不需通知您的权利，开发者行使前述权利不需对您或任何第三方负责或承担任何赔偿责任。<br>11.本服务条款的解释，效力及纠纷的解决，适用于中华人民共和国大陆法律。若发生任何纠纷或争议，应当友好协商解决，协商不成的，均应提交开发者所在城市人民法院解决。<br></div><button class="Button Submit Agreement" data-bind="click:loginAgreement.bind($data,false)">我 同 意</button></div><button class="Button Close" data-bind="click:space.dialogNow.bind(space,'')"><i class="fa fa-times-circle"></i></button></fieldset></td></table><!-- End of STAGE_LOGIN --><div id="allSpace" class="Space All" data-bind="with: allSpace.setProp('domel',$element), css:{ActiveView:starModel.where()==='SPACE_ALL' && space.inProject()==='NONE_PROJECT'}"><div class="Header"><!--div class="Text Line Slogan" style="text-align:left">雇佣时代已老，自由协作正来。</div--><div class="Avatar Logo Active" data-bind="css:{About:stageNow()==='STAGE_ABOUT'}, click:stageNow.bind($data,'STAGE_ABOUT')"></div><button class="HeadButton Clickable" data-bind="click: startProject">我有一个梦想</button><div class="Avatar User" data-bind="click: goHome,style: { backgroundImage: space.path2url(starModel.onlinePerson().icon, true)}, event:{taphold:goHome.bind($data,'STAGE_ABOUT')}, attr:{title:starModel.isOnline()?'单击回家，长按打开名片':'单击登录，长按切换语言'}" title="单击回家或登录，长按显示名片或切换语言"></div><!--div class="RingMenu ActionButton" data-bind="css:{OnRingMenu: space.onRingMenu()}">
          <button class="RingButton Forward" data-bind="click:forward, event:{taphold:forward.bind($data, 'DIALOG')}" title="转发本页面"></button>
          <button class="RingButton Care" style="opacity:0"></button>
          <button class="RingButton Complain" data-bind="click:showComplain" title="投诉"></button>
        </div--> <button class="ActionButton" data-bind="click:forward, event:{taphold:forward.bind($data, 'DIALOG')}" title="转发本页面"><i class="fas fa-share-alt"></i></button></div><div id="allSpaceProset" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_PROSET'}"><!-- STAGE_PROSET --><div class="Scene"><div class="SceneHeader AllSpace"></div><fieldset class="ViewPageScroll"><!-- 本来，三个 proset stages 都是 viewwindowscroll, 但看起来没有差别。 --><div class="Cover Head">让每一个创业梦想，都得到支持</div><!--button class="Tecon Create" data-bind="click: startProject">梦 想</button--> <button class="LoadButton" data-bind="click: refreshProset" title="最新项目"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><fieldset class="Cover" data-bind="visible:!proset().length">点击上方红点，获取最新内容</fieldset><div class="Waterfall" data-bind="foreach: proset"><div class="Card" data-bind="click:$parent.showProject"><img class="Image Adaptive" data-bind="visible:$data.bgimage, attr: {src: space.path2url($data.bgimage)}, style:{maxHeight:$parent.bodyHeight()-32+'px'}"><div class="CardBlock Subject" data-bind="visible:sow.Tool.readPath('subject',$data),text: String(sow.Tool.readPath('subject',$data)).substr(0,100)"></div><div class="CardBlock Script"><div class="Text Script Place" data-bind="text:$data.info.place"></div><div class="Text Script Date" data-bind="text:$data.info.dateEnd"></div></div></div></div><button class="LoadButton" data-bind="click:appendProset,visible:proset().length>=space.limitSelect" title="更多项目"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button><br><br><!-- 避免太靠近底栏圆形按钮 --><!--button class="LoadButton" data-bind="click:reloadProset" title="换一组项目"><span class="DotLoader" data-bind="css:{Active:busyReloading}"><div></div><div></div><div></div></span></button--></fieldset></div></div><!-- STAGE --><div id="allSpaceChat" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_CHAT'}"><div class="Scene" data-bind="with:chatroom.setModel({chatWindow:$element.getElementsByClassName('ChatWindow')[0], chatContent:$element.getElementsByClassName('ChatContent')[0]})"><!--div class="SceneHeader AllSpace"></div--><fieldset class="ViewPage"><!-- 如果没有 SceneHeader，就用 ViewPage --><div class="ChatHeader"><div class="Cover Head"><span style="float:left" data-bind="text:(roomInfo().onlineCount||0) + ' 成员，' + (roomInfo().anonCount||0) + ' 游客'"></span> <span style="float:right">匿名聊天，越屏即焚</span></div></div><div class="ChatWindow"><div class="ChatContent" data-bind="foreach: chatMessageList"><fieldset class="ChatItem" data-bind="css:{ MyMsg: starModel.onlinePerson().aiid===sow.Tool.readPath('_data.owner.aiid',$data) }"><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('_data.owner.icon',$data), true), cursor:sow.Tool.readPath('_data.owner.aiid',$data)===sow.Const.PERSON_UNKNOWN.aiid?'unset':'pointer'}, click:space.showPerson.bind($parent, $data._data.owner)"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('_data.owner.nick',$data)"></div><pre class="Text Area" data-bind="html: sow.Tool.filterUrl($data.content.text), visible: $data.content.text"></pre><img class="Message Image" data-bind="attr:{src: $data.content.image}, visible:$data.content.image"><audio class="AudioPlayer" preload="meta" controls data-bind="visible:$data.content.audio, attr:{src: space.path2url($data.content.audio)}">您的系统不支持播放本音频</audio></fieldset></div></div></fieldset><div class="Block Reply Editor"><!--button data-bind="click:sendChatAudio" style="position:absolute;top:-20px;left:0;">斗一首歌</button--> <textarea placeholder="输入文字发言，或点击按钮贴图。" data-bind="attr:{maxlength:sow.Const.MAX_TITLE}, value:newChatText, with:sow.UI.autoHeightTextarea($element)"></textarea> <button class="Button Reply" data-bind="click:sendChatMessage.bind($data,sow.Tool.getPrevSibling($element))"></button></div></div><!-- end of scene --></div><!-- end of stage --><div id="allSpaceAbout" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_ABOUT'}"><div class="Scene"><div class="SceneHeader AllSpace"></div><div class="ViewPageScroll"><div class="Cover"><br>梦想被现实阻挡？<br><!-- 被琐事尘封 --> 快来招募团队、众筹资金，<br>创业轻松起航。<br><br>厌倦了一成不变的生活？<br><!-- 日复一日的加班 --> 快来发现有趣的项目，<br>合伙协作共享。<br><br>与众不同<br>为自己创作<br><a href="tel:00864001006327">(+86) 400-100-6327</a><br><a data-bind="attr:{href:'mai'+'lto:'+starModel.starEmail},text:starModel.starEmail"></a><br><fieldset class="BlockQrc"><a class="Url QRC Web" title="访问网站: cozor.com" onclick="sow.Tool.openUrl(starModel.starUrl)">网站 cozor.com</a> <a class="Url QRC Apple" title="下载iOS版" href="https://itunes.apple.com/app/id1179203895">iOS 应用</a> <a class="Url QRC Android" title="下载安卓版" onclick="sow.Tool.openUrl(starModel.starUrl+&#34;app/cozor.apk&#34;)" data-bind="visible:sow.Tool.deviceInfo().appmode==='web'||sow.Tool.deviceInfo().software!=='ios'">安卓应用</a> <a class="Url QRC Wechat" title="关注微信公众号: ziyose" onclick="space.remind({text:&#34;扫描二维码，关注微信公众号 ziyose&#34;})">微信号 ziyose</a> <a class="Url QRC QQ" title="加QQ群: 639494467" onclick="sow.Tool.openUrl(&#34;http://qm.qq.com/cgi-bin/qm/qr?k=jb4jN4qdaJx2aunqxdOssVwZkU7KC_rh#&#34;)">QQ群 639494467</a></fieldset><br><div class="FaronearSign"><div class="Line"></div><button class="Faronear" data-bind="click:sow.Tool.openUrl.bind($data,'http://www.faronear.com')">Faronear Group</button></div><!--br>
            创作社，<br>自由职业者的分享经济社区。<br>
            <br>
            我们相信，自由职业是未来主流的工作方式。<br>10年后，1/3的人是自由职业者。<br>自由职业即创业！<br>
            <br>
            我们运营线上平台和线下活动，<br>建设各行各业的自由职业社区，<br>传播理念、保障交易、孵化项目。<br>
            <br> 
            想要更自由的生活？<br>让我们共同探讨未来！<br--><br></div></div></div></div><!-- STAGE_ABOUT --><div class="Footer"><div class="StageMenu"><nav class="FootTab ProsetAll" style="width:33%" data-bind="click: stageNow.bind($data,'STAGE_PROSET'), css: {Active: stageNow()==='STAGE_PROSET'}"><i class="fa fa-cogs"></i>项 目</nav><nav class="FootTab Center" style="width:34%"><button class="MainButton All" data-bind="click: stageNow.bind($data,'STAGE_CHAT'), css: {Active: stageNow()==='STAGE_CHAT'}"><i class="fa fa-comments"></i>众 聊</button></nav><!-- 飞聊，广场 --><nav class="FootTab About ZC" style="width:33%" data-bind="click: stageNow.bind($data,'STAGE_ABOUT'), css: {Active: stageNow()==='STAGE_ABOUT'}"><i class="fa fa-bars"></i>关 于</nav></div></div></div><div id="myHome" class="Space Person" data-bind="with: myHome.setProp('domel',$element), css:{ActiveView:starModel.where()==='SPACE_HOME' && space.inProject()==='NONE_PROJECT'}"><div class="Header"><div class="Text Line Slogan">咨询请拨<a href="tel:00864001006327">400-100-6327</a>或<a data-bind="click:supportOnline">在线客服</a></div><div class="Avatar Logo" data-bind="click: goAll, event:{taphold:goAll.bind($data,'STAGE_ABOUT')}" title="回到广场"></div><!--button class="HeadButton Clickable" data-bind="click: startProject">我有一个梦想</button--><div class="Avatar User Active" data-bind="css:{About:stageNow()==='STAGE_ABOUT'}, click:stageNow.bind($data,'STAGE_ABOUT'), style:{backgroundImage: space.path2url(starModel.onlinePerson().icon, true)}"></div><button class="ActionButton" data-bind="click:forward, event:{taphold:forward.bind($data, 'DIALOG')}" title="转发本页面"><i class="fas fa-share-alt"></i></button></div><div id="myHomeProset" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_PROSET'}"><!-- STAGE_PROSET --><div class="Scene"><div class="SceneHeader Person" data-bind="style:{backgroundImage:space.path2url(starModel.onlinePerson().bgimage, true)}"></div><fieldset class="ViewPageScroll"><!--br--><div class="Cover Head" data-bind="visible:proset().length">我的创业项目</div><button class="Tecon Create" data-bind="click: startProject"><i class="fa fa-plus"></i> 梦 想</button> <button class="LoadButton" data-bind="click:refreshProset" title="最新项目"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><table class="Cover Head" data-bind="visible:!proset().length"><tr><td>想要创业，没有资源？<br>发起一个梦想吧，<br>招募团队、众筹资金，<br>用10%的时间，和100%的热爱，<br>为自己创造！<br></td></tr></table><div class="Waterfall" data-bind="foreach: proset"><div class="Card" data-bind="click: $parent.showProject"><img class="Image Adaptive" data-bind="visible:$data.bgimage, attr: {src: space.path2url($data.bgimage)}, style:{maxHeight:$parent.bodyHeight()-32+'px'}"><div class="CardBlock Subject" data-bind="visible:sow.Tool.readPath('subject',$data),text: String(sow.Tool.readPath('subject',$data)).substr(0,100)"></div><div class="CardBlock Script"><div class="Text Script Place" data-bind="text:$data.info.place"></div><div class="Text Script Date" data-bind="text:$data.info.dateEnd"></div></div></div></div><!--button class="LoadButton" data-bind="click:reloadProset" title="换一组项目"><span class="DotLoader" data-bind="css:{Active:busyReloading}"><div></div><div></div><div></div></span></button--> <button class="LoadButton" data-bind="click:appendProset,visible:proset().length>=space.limitSelect" title="更多项目"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button><br><br><!-- 避免太靠近底栏圆形按钮 --></fieldset></div></div><!-- STAGE --><div id="myHomeChat" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_CHAT'}"><div class="Scene"><div class="SceneHeader Person" data-bind="style:{backgroundImage:space.path2url(starModel.onlinePerson().bgimage, true)}"></div><fieldset class="ViewPageScroll AfterRing"><!--br--><div class="Cover Head" data-bind="text:noticeList().length?'我收到的新闻动态':'没有收到任何消息'"></div><button class="LoadButton" data-bind="click:getAllNotice" title="最新动态" style="z-index:1"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><table class="Cover Head" data-bind="visible:!noticeList().length" style="z-index:auto"><tr><td>点击上方红点，获取最新消息</td></tr></table><div class="Block" data-bind="foreach: noticeList"><fieldset class="ChatItem" data-bind="visible:tag==='CHAT', click:function(){ urHost.stageNow('STAGE_CHAT'); starModel.targetPerson(_data.toPerson); }, css:{ MyMsg: starModel.onlinePerson().aiid===sow.Tool.readPath('_data.owner.aiid',$data) }"><div data-bind="visible:starModel.onlinePerson().aiid===sow.Tool.readPath('_data.owner.aiid',$data)"><div class="Image Portrait ToPerson" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('_data.toPerson.icon',$data), true)}"></div><div class="Text Nick ToPerson" data-bind="text: sow.Tool.readPath('_data.toPerson.nick',$data)"></div></div><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('_data.owner.icon',$data), true)}"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('_data.owner.nick',$data)"></div><pre class="Text Area" data-bind="visible:sow.Tool.readPath('content.text',$data), html: sow.Tool.filterUrl(sow.Tool.readPath('content.text',$data))"></pre><img class="Message Image" data-bind="visible:sow.Tool.readPath('content.image',$data), attr:{src: sow.Tool.readPath('content.image',$data)}"><audio class="AudioPlayer" preload="meta" controls data-bind="visible:sow.Tool.readPath('content.audio',$data), attr:{src: space.path2url(sow.Tool.readPath('content.audio',$data))}">您的系统不支持播放本音频</audio></fieldset><fieldset class="LogItem" data-bind="visible:tag==='BLOG'||tag==='PLOG', click:$parent.visitLog"><div class="Left"><div class="Image Portrait" data-bind="style:{backgroundImage:tag==='BLOG'?space.path2url(sow.Tool.readPath('_data.owner.icon',$data), true):space.path2url(sow.Tool.readPath('_data.agent.bgimage',$data), true), borderRadius:tag==='PLOG'?'unset':'100%'}"></div><div class="Text Nick" data-bind="text: tag==='BLOG'?sow.Tool.readPath('_data.owner.nick',$data):sow.Tool.readPath('_data.agent.subject',$data)"></div></div><fieldset class="Middle"><pre class="Text Line Title" data-bind="text:$data.title"></pre></fieldset><div class="Bottom"><div class="Tecon Length" title="正文长度"><i class="fa fa-font"></i> <span data-bind="text:space.contentLength($data.content)"></span></div><div class="Tecon Length" title="图片数量"><i class="fa fa-image"></i> <span data-bind="text:space.imageCount($data.content)"></span></div><!--div class="Tecon VoteGood" data-bind="text:voteGood?voteGood:0"></div--><div class="Tecon Reply" title="回复数量"><i class="fa fa-reply"></i> <span data-bind="text:replyCount||0"></span></div><div class="Text DateTime" data-bind="text:Date.formatDate($data.whenInserted, 'yyyy-mm-ddHH:MM')"></div></div></fieldset></div></fieldset></div></div><!-- end of stage --><div id="myHomeAbout" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_ABOUT'}"><!-- Stage of 关于 --><div class="Scene"><div class="SceneHeader Person" data-bind="style:{backgroundImage:space.path2url(starModel.onlinePerson().bgimage, true)}, click: uploadPersonBgimage" title="设置封面"><div class="Text Remind" data-bind="visible:!starModel.onlinePerson().bgimage">设置封面</div></div><fieldset class="ViewPageScroll" data-bind="event: {change: updateAbout }"><button class="Image Portrait OnCover" data-bind="click:uploadPortrait, clickBubble:false, style:{backgroundImage: space.path2url(starModel.onlinePerson().icon, true)}, css:{ Required: starModel.onlinePerson().icon.match(/ST_PERSON.png$/)}" title="设置头像"></button> <input class="Input Text Line Nick" type="text" placeholder="我的昵称" required data-bind="attr:{maxlength:sow.Const.MAX_NAME}, value:starModel.onlinePerson().nick"> <button class="Tecon Refer" data-bind="click:referUser"><i class="fas fa-share-alt"></i> <span data-bind="text:sow.Tool.readPath('_data.agent.count', starModel.onlinePerson())>0?'已成功推荐'+sow.Tool.readPath('_data.agent.count', starModel.onlinePerson())+'人':'推荐新人有奖'"></span></button> <textarea id="myHomeAboutIntroduction" class="Text Area Introduction" maxlength="500" placeholder="我的自我介绍，让大家快速认识我。" data-bind="value: starModel.onlinePerson().info.intro, with:sow.UI.autoHeightTextarea($element)"></textarea><fieldset class="Block Namecard"><legend>公 开</legend><div class="Row Title"><label class="Text Label">性别</label><div class="Seperator Bar"></div><select class="Input Text Line" data-bind="value:starModel.onlinePerson().gender"><option value="ST_PERSON_UNKNOWN">保密</option><option value="ST_PERSON_MALE">男</option><option value="ST_PERSON_FEMALE">女</option></select></div><div class="Row Title"><label class="Text Label">职业</label><div class="Seperator Bar"></div><input class="Input Text Line" type="text" placeholder="我的专业才能，例如设计、翻译、律师、教练、模特、等等。" data-bind="attr:{maxlength:sow.Const.MAX_NAME}, value:starModel.onlinePerson().info.title" list="roleList"><datalist id="roleList" data-bind="foreach:['平面设计师','软件工程师','翻译','律师','健身教练']"><option data-bind="value:$data"></option></datalist></div><div data-bind="foreach:starModel.onlinePerson().info.userlist"><div class="Row"><input class="Input Text Label" type="text" placeholder="类别" maxlength="5" data-bind="value:$data.ukey" list="aboutKeyList"><div class="Seperator Bar"></div><input class="Input Text Line" type="text" placeholder="具体内容。这将展示在我的名片上。" data-bind="attr:{maxlength:sow.Const.MAX_NAME}, value:$data.uvalue"></div></div><datalist id="aboutKeyList" data-bind="foreach:['学校','单位','手机','QQ','微信']"><option data-bind="value:$data"></option></datalist><button class="Tecon AppendItem" data-bind="click:appendItem"><i class="fa fa-plus"></i> 添加一条</button></fieldset><fieldset class="Block Privacy"><legend>隐 私</legend><div class="Row Name"><label class="Text Label Name">实名</label><div class="Seperator Bar"></div><input class="Input Text Line Name" type="text" placeholder="确保我对账户的所有权" required maxlength="10" data-bind="value:starModel.onlinePerson().name"></div><div class="Row Lang"><label class="Text Label">语言</label><div class="Seperator Bar"></div><select class="Input Text Line" data-bind="value: starModel.userLang, options:sow.Locale.LangSet, optionsValue:'code', optionsText:'name'"></select></div><div class="Row Nation"><label class="Text Label">国籍</label><div class="Seperator Bar"></div><select class="Input Text Line" data-bind="value: starModel.onlinePerson().info.nationality, options:sow.Locale.NationSet, optionsValue:'iso2', optionsText:function(item){return item.name_en+(item.name_native?' ('+item.name_native+')':'');}, optionsCaption:''"></select></div><div class="Row PayChannel"><label class="Text Label PayChannel">帐户</label><div class="Seperator Bar"></div><input class="Input Text Line PayChannel" type="text" placeholder="渠道：银行名称、数字货币、或第三方支付渠道" list="payChannelList" data-bind="value:starModel.onlinePerson().info.payChannel"><datalist id="payChannelList"><option value="中国银行"></option><option value="招商银行"></option><option value="支付宝"></option><option value="微信"></option></datalist></div><div class="Row PayOwner"><label class="Text Label PayOwner"></label><div class="Seperator Bar"></div><input class="Input Text Line PayOwner" type="text" placeholder="户名：账户主人的名字" data-bind="value:starModel.onlinePerson().info.payOwner"></div><div class="Row PayAccount"><label class="Text Label PayAccount"></label><div class="Seperator Bar"></div><input class="Input Text Line PayAccount" type="text" placeholder="账号：银行账号、数字货币地址、或第三方支付账号" data-bind="value:starModel.onlinePerson().info.payAccount"></div></fieldset><fieldset class="Block Confidential"><legend>机 密</legend><div class="Row Phone"><label class="Text Label Phone">手机</label><div class="Seperator Bar"></div><select class="Select ITC" data-bind="options: sow.Locale.NationSet, optionsValue:'itc', optionsText:function(item){return item.itc+'&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp'+item.name_en+(item.name_native?' ('+item.name_native+')':'');}, value: starModel.onlinePerson().countryCode"></select><!-- 放在input后面，否则无法点击，因为input占了100%宽。但2017-10-31 发现，现在放前面也可以了。 --> <input class="Input Text Line CallNumber" type="tel" maxlength="11" onkeyup="value=value.replace(/[^\d]/g,&#34;&#34;)" placeholder="用于登录及重置密码" class="Text Line" required data-bind="value: starModel.onlinePerson().callNumber" pattern="\d{11}"></div><div class="Row Mail"><label class="Text Label Mail">邮箱</label><div class="Seperator Bar"></div><input class="Input Text Line Mail" type="email" placeholder="用于登录及重置密码" pattern="[_\w\-\.]+@[\w\-]+(\.[\w\-]+)*\.[a-zA-Z]{2,4}" required data-bind="attr:{maxlength:sow.Const.MAX_NAME}, value:starModel.onlinePerson().email" onkeyup="value=value.replace(/[^_\w\-\.@]/g,&#34;&#34;)"></div><div class="Block Pass"><div class="Row OrigPass"><label class="Text Label OrigPass">原密码</label><div class="Seperator Bar"></div><input class="Input Text Line OrigPass" type="password" placeholder="原来的密码" pattern="[^ ]{6,}" data-bind="attr:{maxlength:sow.Const.MAX_PWD}, value:accountModel.loginPerson().pwdUser"></div><div class="Row NewPass"><label class="Text Label NewPass">新密码</label><div class="Seperator Bar"></div><input class="Input Text Line NewPass" type="password" placeholder="设置新密码" pattern="[^ ]{6,}" data-bind="attr:{maxlength:sow.Const.MAX_PWD}, value:accountModel.loginPerson().pwdUserNew"></div><button class="Button ChangePass" data-bind="click: accountModel.changePwd"><i class="fa fa-exchange-alt"></i><br>修改密码</button></div><div class="Text Feedback" style="width:100%" data-bind="text: Locale[starModel.userLang()].changePwdFeedback[accountModel.changePwdResult()]"></div></fieldset><button class="Tecon Logout" data-bind="click: confirmLogout"><i class="fa fa-sign-out-alt"></i> 退出账户</button></fieldset></div></div><!-- STAGE --><div class="Footer"><div class="StageMenu"><nav class="FootTab Proset" style="width:33%" data-bind="click: stageNow.bind($data,'STAGE_PROSET'), css: {Active: stageNow()==='STAGE_PROSET'}"><i class="fa fa-cog"></i>项 目</nav><nav class="FootTab Center" style="width:34%"><button class="MainButton News" data-bind="click: stageNow.bind($data,'STAGE_CHAT'), css: {Active: stageNow()==='STAGE_CHAT'}"><i class="far fa-envelope"></i>信 箱</button></nav><!-- 消息，信箱，我的 --><nav class="FootTab About" style="width:33%" data-bind="click: stageNow.bind($data,'STAGE_ABOUT'), css: {Active: stageNow()==='STAGE_ABOUT'}"><i class="fa fa-address-card"></i>名 片</nav></div></div></div><div id="urHost" class="Space Person" data-bind="with: urHost.setProp('domel',$element), css:{ActiveView:starModel.where()==='SPACE_HOST' && space.inProject()==='NONE_PROJECT'}"><div class="Header"><div class="Text Line Nick"><div class="PortraitNick" data-bind="css:{About:stageNow()==='STAGE_ABOUT'}, click:stageNow.bind($data,'STAGE_ABOUT')" title="点击查看名片"><div class="Portrait" data-bind="style:{ backgroundImage:space.path2url(starModel.targetPerson().icon,true)}"></div><div data-bind="text:starModel.targetPerson().nick"></div></div></div><div class="Avatar Logo" data-bind="click: goAll, event:{taphold:goAll.bind($data,'STAGE_ABOUT')}" title="回到广场"></div><div class="Avatar User" data-bind="style:{ backgroundImage: space.path2url(starModel.onlinePerson().icon, true)}, click: goHome, event:{taphold:goHome.bind($data,'STAGE_ABOUT')}, attr:{title:starModel.isOnline()?'单击回家，长按打开名片':'单击登录，长按切换语言'}" title="单击回家或登录，长按显示名片或切换语言"></div><!-- 注意，从第三方空间切换回广场时，targetPerson变成so.Const.PERSON_ALL、where变成SPACE_ALL，但是尚未切换到广场界面，此时本图标已经转为广场图标并显示片刻，然后才切换到广场空间。为了避免此现象，这里多做个判断并临时清空图标。（以上对moment生效，但在本应用不起作用，干脆把so.Const.PERSON_ALL的icon设为空。 --><!--
      <div class="RingMenu ActionButton" data-bind="css:{OnRingMenu: space.onRingMenu()}">
        <button class="RingButton Forward" data-bind="click:forward, event:{taphold:forward.bind($data, 'DIALOG')}" title="转发本页面"></button>
        <button class="RingButton Care" data-bind="click:toggleCare, css:{Active:sow.Tool.readPath('_data.care.status',starModel.targetPerson())===sow.Const.STAT_ON}, attr:{title:(sow.Tool.readPath('_data.care.status',starModel.targetPerson())===sow.Const.STAT_ON)?'取消关注':'开始关注'}"></button>
        <button class="RingButton Complain" data-bind="click:showComplain" title="投诉"></button>
      </div>
      <button class="ActionButton" data-bind="click:toggleRingMenu, event:{taphold:forward}" title="短按打开菜单，长按2秒进行转发"></button>
--> <button class="ActionButton Forward Left" data-bind="click:forward, event:{taphold:forward.bind($data, 'DIALOG')}" title="转发本页面"><i class="fas fa-share-alt"></i></button> <button class="ActionButton Care Right" data-bind="click:toggleCare, event:{taphold:showComplain}, css:{Active:sow.Tool.readPath('_data.care.status',starModel.targetPerson())===sow.Const.STAT_ON}, attr:{title:(sow.Tool.readPath('_data.care.status',starModel.targetPerson())===sow.Const.STAT_ON)?'取消关注':'开始关注'}" title="短按切换关注，长按可投诉"><i class="fas fa-heart"></i></button></div><div id="urHostProset" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_PROSET'}"><!-- STAGE_PROSET --><div class="Scene"><div class="SceneHeader Person" data-bind="style:{backgroundImage:space.path2url(starModel.targetPerson().bgimage, true)}"></div><fieldset class="ViewPageScroll"><!--br><br--><!-- 为了和上方凸出的RingButton拉开一定距离 --><!--fieldset class="Cover Head" data-bind="visible:proset().length">主持的项目</fieldset--> <button class="LoadButton" data-bind="click:refreshProset" title="最新项目"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><!--button class="Image Portrait OnCover" data-bind="click:stageNow.bind($data,'STAGE_ABOUT'), style:{backgroundImage: space.path2url(starModel.targetPerson().icon, true)}"></button--><table class="Cover Head" data-bind="visible:!proset().length"><td>主人在休眠<br>没有发起任何梦想<br>也没有参与任何项目</td></table><div class="Waterfall" data-bind="foreach: proset"><div class="Card" data-bind="click:$parent.showProject"><img class="Image Adaptive" data-bind="visible:$data.bgimage, attr: {src: space.path2url($data.bgimage)}, style:{maxHeight:$parent.bodyHeight()-32+'px'}"><div class="CardBlock Subject" data-bind="visible:sow.Tool.readPath('subject',$data),text: String(sow.Tool.readPath('subject',$data)).substr(0,100)"></div><div class="CardBlock Script"><div class="Text Script Place" data-bind="text:$data.info.place"></div><div class="Text Script Date" data-bind="text:$data.info.dateEnd"></div></div></div></div><button class="LoadButton" data-bind="click:appendProset,visible:proset().length>=space.limitSelect" title="更多项目"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button><br><br><!-- 避免太靠近底栏圆形按钮 --></fieldset></div></div><!-- STAGE --><div id="urHostChat" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_CHAT'}"><div class="Scene" data-bind="with:chatroom.setModel({chatWindow:$element.getElementsByClassName('ChatWindow')[0], chatContent:$element.getElementsByClassName('ChatContent')[0]})"><!--div class="SceneHeader Person" data-bind="style:{backgroundImage:space.path2url(starModel.targetPerson().bgimage, true)}"></div--><fieldset class="ViewPage"><!-- 如果没有 SceneHeader，就用 ViewPage --><!--button class="Image Portrait OnCover" data-bind="click:$parent.stageNow.bind($data,'STAGE_ABOUT'), style:{backgroundImage: space.path2url(starModel.targetPerson().icon, true)}"></button--><div class="ChatHeader"><div class="Cover Head"><span style="float:left" data-bind="text:starModel.targetPerson().nick + (roomInfo().onlineCount==2?'已加入私聊':'尚未加入私聊')"></span></div></div><div class="ChatWindow"><div class="ChatContent" data-bind="foreach: chatMessageList"><fieldset class="ChatItem" data-bind="css:{ MyMsg: starModel.onlinePerson().aiid===sow.Tool.readPath('_data.owner.aiid',$data) }"><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('_data.owner.icon',$data), true)}, click:space.showPerson.bind($parent, $data._data.owner)"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('_data.owner.nick',$data)"></div><pre class="Text Area" data-bind="html: sow.Tool.filterUrl($data.content.text), visible: $data.content.text"></pre><img class="Message Image" data-bind="attr:{src: $data.content.image}, visible:$data.content.image"><audio class="AudioPlayer" preload="meta" controls data-bind="visible:$data.content.audio, attr:{src: space.path2url($data.content.audio)}">您的系统不支持播放本音频</audio></fieldset></div></div></fieldset><div class="Block Reply Editor"><!--button data-bind="click:sendChatAudio" style="position:absolute;top:-20px;left:0;">斗一首歌</button--> <textarea placeholder="输入文字发言，或点击按钮贴图。" data-bind="attr:{maxlength:sow.Const.MAX_TITLE}, value:newChatText, with:sow.UI.autoHeightTextarea($element)"></textarea> <button class="Button Reply" data-bind="click:sendChatMessage.bind($data,sow.Tool.getPrevSibling($element))"></button></div></div><!-- end of scene --></div><!-- end of stage --><div id="urHostAbout" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_ABOUT'}"><!-- STAGE_ABOUT --><div class="Scene"><div class="SceneHeader Person" data-bind="style:{backgroundImage:space.path2url(starModel.targetPerson().bgimage, true)}"></div><fieldset class="ViewPageScroll"><div class="Image Portrait OnCover" data-bind="style:{backgroundImage: space.path2url(starModel.targetPerson().icon, true)}"></div><div class="Text Line Nick" data-bind="text:starModel.targetPerson().nick"></div><div class="Tecon Refer" data-bind="text:'已成功推荐'+(sow.Tool.readPath('_data.agent.count', starModel.targetPerson())||0)+'人'"></div><pre class="Text Area Introduction Reader" data-bind="text: starModel.targetPerson().info.intro||'等待主人自我介绍...'"></pre><fieldset class="Block Namecard"><div class="Row Reader"><label class="Text Label">性别</label><div class="Seperator Bar"></div><pre class="Text Line" data-bind="text:starModel.targetPerson().gender==='ST_PERSON_MALE'?'男':starModel.onlinePerson().gender==='ST_PERSON_FEMALE'?'女':'保密'"></pre></div><div class="Row Reader"><label class="Text Label">职业</label><div class="Seperator Bar"></div><pre class="Text Line" data-bind="text:starModel.targetPerson().info.title"></pre></div><!--div class="Row Reader">
                <label class="Text Label">专长</label><div class="Seperator Bar"></div>
                <div class="Text Line" data-bind="text:starModel.targetPerson().info.talent"></div>
              </div>
              <div class="Row Reader">
                <label class="Text Label">联系</label><div class="Seperator Bar"></div>
                <div class="Text Line" data-bind="text:starModel.targetPerson().info.contact"></div>
              </div--><div data-bind="foreach:starModel.targetPerson().info.userlist"><div class="Row Reader"><label class="Text Label" data-bind="text:$data.ukey"></label><div class="Seperator Bar"></div><pre class="Text Line" data-bind="text:$data.uvalue"></pre></div></div></fieldset></fieldset></div></div><!-- STAGE --><div class="Footer"><div class="StageMenu"><nav class="FootTab Proset" style="width:33%" data-bind="click: stageNow.bind($data,'STAGE_PROSET'), css: {Active: stageNow()==='STAGE_PROSET'}"><i class="fa fa-cog"></i>项 目</nav><nav class="FootTab Center" style="width:34%"><button class="MainButton Chat" data-bind="click: stageNow.bind($data,'STAGE_CHAT'), css: {Active: stageNow()==='STAGE_CHAT'}"><i class="far fa-comment-alt"></i>私 聊</button></nav><nav class="FootTab About" style="width:33%" data-bind="click: stageNow.bind($data,'STAGE_ABOUT'), css: {Active: stageNow()==='STAGE_ABOUT'}"><i class="fa fa-address-card"></i>名 片</nav></div></div></div><!-- End of Space --><div id="myProject" class="Space Project" data-bind="with: myProject.setProp('domel',$element), css:{ActiveView:starModel.isOnline() && starModel.where()==='SPACE_HOME' && space.inProject()==='MY_PROJECT'}"><div class="Header"><div class="Text Line Subject" data-bind="visible:project().aiid,text:project().subject"></div><div class="Text Line Slogan" data-bind="visible:!project().aiid">咨询请拨<a href="tel:00864001006327">400-100-6327</a>或<a>在线客服</a></div><!--div class="HeadToolbar" data-bind="visible: project().aiid">
        <button class="Tecon Plog" data-bind="click:function(){ if (viewNow()!=='VIEW_PLOG') viewNow('VIEW_PLOG'); else viewNow('MILESTONE');}, css: {Active:viewNow()==='VIEW_PLOG'}">讨论</button>
      </div--><div class="Avatar Logo" data-bind="click: goAll, event:{taphold:goAll.bind($data,'STAGE_ABOUT')}" title="回到广场"></div><div class="Avatar User" data-bind="style:{backgroundImage:space.path2url(starModel.onlinePerson().icon, true)}, click: goHome, event:{taphold:goHome.bind($data,'STAGE_ABOUT')}" title="回家"></div><button class="ActionButton" data-bind="click:forward, event:{taphold:forward.bind($data, 'DIALOG')}, visible: !(!project().aiid ||stageNow()==='STAGE_TEAM' && sceneTeam()==='ROLE_ONE' && !roleNow().aiid ||stageNow()==='STAGE_CHIP' && sceneChip()==='CHIP_ONE' && !chipNow().aiid ||stageNow()==='STAGE_LOG' && sceneLog()==='LOG_ONE' && !logNow().aiid)" title="转发本页面"><i class="fas fa-share-alt"></i></button></div><div id="myProjectDream" class="Stage My Project Dream" data-bind="css:{ActiveView:stageNow()==='STAGE_DREAM'}"><div class="Scene"><div class="SceneHeader Project" data-bind="style:{backgroundImage:space.path2url(project().bgimage, true)}, click: uploadProjectBgimage" title="设置封面"><div class="Text Remind" data-bind="visible:!project().bgimage">设置封面</div></div><!--input type="file" style="display:none" data-bind="event: {change: uploadProjectBgimage.bind($data, $element) }" accept="image/*"--><fieldset class="ViewPageScroll"><div data-bind="event:{change:updateProject}"><input class="Input Text Line Subject" type="text" placeholder="用一句话，说明你的梦想！不论是大是小，不论疯狂平凡，现在开始最重要。" required data-bind="attr:{maxlength:sow.Const.MAX_TITLE}, value:project().subject"><div class="Row Place"><input class="Input Text Line Place" type="text" placeholder="在哪个城市？在网上？在外太空？" required data-bind="attr:{maxlength:sow.Const.MAX_NAME}, value:project().info.place"></div><div class="Row Date"><!--input class="Text Line auto-kal" type="text" placeholder="可定义多个时间节点" required data-bind="value:project().info.schedule" data-kal="months:3, direction:'future'"/--> <input class="Input Text Line Date From" type="text" maxlength="20" placeholder="启动日期" required data-lang="zh" data-min-year="2016" data-format="Y-m-d" data-translate-mode="true" data-large-mode="true" data-lock="from" data-large-default="true" data-modal="true" data-init-set="false" data-bind="value: project().info.dateStart, attr:{'data-default-date':new Date().toISOString(),'data-max-year':new Date().getFullYear()+10}, with:$($element).dateDropper()"><!-- mui.DtPicker() 操作方便，但是性能较差，特别在手机上很慢。input class="Input Text Line Date From" type="text" maxlength="20" placeholder="启动日期" required data-bind="value: project().info.dateStart, with:$data.dateStartPicker=new mui.DtPicker({type:'date'}), click:function(){$data.dateStartPicker.setSelectedValue($element.value); $data.dateStartPicker.show(function(result){$element.value=result.text;$data.project().info.dateStart=result.text;$($element).change();});}"/--><div class="Icon FromTo" data-bind="click:appendPlanItem" title="增加一个计划节点"></div><input class="Input Text Line Date To" type="text" maxlength="20" placeholder="结束日期" required data-lang="zh" data-min-year="2016" data-format="Y-m-d" data-translate-mode="true" data-large-mode="true" data-lock="from" data-modal="true" data-large-default="true" data-init-set="false" data-bind="value:project().info.dateEnd, attr:{'data-default-date':new Date(new Date().setDate(new Date().getDate()+90)).toISOString(),'data-max-year':new Date().getFullYear()+10}, with:$($element).dateDropper()"></div><fieldset class="PlanList" data-bind="foreach:project().planList"><div class="Row InList"><input class="Input Text Label" type="text" placeholder="计划节点" maxlength="12" data-bind="value:$data.ukey"><div class="Seperator Bar"></div><input class="Input Text Line" type="text" placeholder="具体的阶段目标" data-bind="attr:{maxlength:sow.Const.MAX_NAME}, value:$data.uvalue"></div></fieldset><div class="Block Story Editor"><div data-bind="foreach:project().dream, value: new Sortable($element,{ animation:200, handle:'.DeleteSection', chosenClass:'Chosen2Move', dragClass:'OnMoving', onEnd: function(evt){ editor.switchSection(evt,project().dream,updateProject); } } )"><fieldset class="StoryItem" data-bind="if:$data"><textarea class="Text Area" data-bind="visible:$data.hasOwnProperty('text'), value:$data.text,with:sow.UI.autoHeightTextarea($element)" maxlength="10000" placeholder="详细说明您的目标、计划、风险、机遇、等等，让想法更成熟，计划更靠谱，才能吸引到技艺高超的小伙伴们。" title="点击修改文字"></textarea> <img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}, click: editor.uploadImage.bind($parent, $index(), $parent.project, 'dream', $parent.updateProject)" title="点击修改图片"><!-- 2016-08-23 苦战一天，终于发现，swipeleft 事件里，执行 input file 元素的 click 是无效的，必须改成 click 事件里执行 click 才可以。 --><!-- 不要在这里定义 file input, 以免重新选择文件后，激发一次无用的 updateProject --><div class="Icon DeleteSection" data-bind="click:editor.deleteSection.bind($parent, $index(), $parent.project, 'dream', $parent.updateProject)" title="点击删除，或者拖拽排序">☰</div></fieldset></div><div class="Toolbar"><!--div class="Text Line Feedback Save" data-bind="text:editor.feedback()"></div--> <button class="Tecon AddText" data-bind="click: editor.addText.bind($data, $data.project, 'dream')"><i class="fas fa-pencil-alt"></i> 文 字</button> <button class="Tecon AddImage" data-bind="click: editor.uploadImage.bind($data, undefined, $data.project, 'dream', updateProject)"><i class="far fa-image"></i> 图 片</button></div></div></div><button class="Button Submit" data-bind="click:createProject, visible:!project().aiid"><i class="fa fa-upload"></i> 发 布</button></fieldset></div></div><!-- STAGE --><div id="myProjectTeam" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_TEAM'}"><div class="Scene" data-bind="visible: sceneTeam()==='ROLE_LIST'"><div class="SceneHeader Project" data-bind="style:{backgroundImage:space.path2url(project().bgimage, true)}"></div><fieldset class="ViewPageScroll"><div class="Cover Head" data-bind="visible:roleList().length">雇佣时代已老。今天，你需要合伙人。</div><button class="Tecon Create" data-bind="click: prepareRole"><i class="fa fa-plus"></i> 角 色</button> <button class="LoadButton" data-bind="click:refreshRoleList" title="加载最新"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><fieldset class="Cover" data-bind="visible:!roleList().length">梦想不怕弱小，<br>只怕缺少小伙伴。<br>快来招募团队，<br>建立你的虚拟公司！</fieldset><!-- 启航 so easy! --><div class="Block" data-bind="foreach:roleList"><fieldset class="RoleItem" data-bind="click:$parent.showRole.bind($parent,$data,$index()), css:{Frozen:parseInt(memberQuota)!==0 && !(parseInt(memberQuota)>parseInt(memberCount))}"><div class="Row Title"><pre class="Text Line Title" data-bind="text:$data.name"></pre><div class="Text Badge" data-bind="visible:$data.appliedCount>0"><span data-bind="text: $data.appliedCount"></span></div></div><div class="Row Salary" data-bind="text: sow.Tool.readPath('info.salary', $data)||'酬劳待定'"></div><div class="Row Progress"><div class="Text Progress"><span data-bind="text:parseInt(memberCount)>=0?'已签 '+memberCount+' 人, ':''"></span><span data-bind="text: parseInt(memberQuota)===0 ? '还需任意人' : parseInt(memberQuota)>parseInt(memberCount) ? '还需 '+(memberQuota-memberCount)+' 人' : parseInt(memberQuota)<=parseInt(memberCount) ? '已满' : '' "></span></div><div class="ProgressBar" data-bind="style:{width: parseInt(memberQuota)===0 ? '50%' : parseInt(memberQuota)>parseInt(memberCount) ? (100*memberCount/memberQuota + '%') : parseInt(memberQuota)<=parseInt(memberCount) ? '100%' : 0}"></div></div></fieldset></div><button class="LoadButton" data-bind="click:appendRoleList,visible:roleList().length>=space.limitSelect" title="加载更多"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button><br><br><!-- 避免太靠近底栏圆形按钮 --></fieldset></div><div class="Scene" data-bind="visible: sceneTeam()==='ROLE_ONE'"><fieldset class="ViewPageScroll"><button class="Tecon Return" data-bind="click:back2ListTeam"><i class="fa fa-undo"></i> 返 回</button><div data-bind="event:{change:updateRole}"><div class="Row Title"><label class="Text Label">角 色</label> <input class="Text Title" type="text" placeholder="在团队中的专业角色，例如设计、翻译、律师、教练、模特、等等。" required data-bind="attr:{maxlength:sow.Const.MAX_NAME}, value:roleNow().name"></div><div class="Row Quota"><label class="Text Label">名 额</label> <input class="Input Text Number MemberQuota" type="text" maxlength="4" onkeyup="value=value.replace(/[^\d]/g,&#34;&#34;)" placeholder="招募总人数（0 代表不限人数）" required data-bind="value:roleNow().memberQuota"><div class="ProgressBar" data-bind="style:{width: parseInt(roleNow().memberQuota)===0 ? '50%' : parseInt(roleNow().memberQuota)>parseInt(roleNow().memberCount) ? (100*roleNow().memberCount/roleNow().memberQuota + '%') : parseInt(roleNow().memberQuota)<=parseInt(roleNow().memberCount) ? '100%' : 0}"></div><div class="Text Progress"><span data-bind="text:parseInt(roleNow().memberCount)>=0?'已签 '+roleNow().memberCount+' 人, ':''"></span><span data-bind="text: parseInt(roleNow().memberQuota)===0 ? '还需任意人' : parseInt(roleNow().memberQuota)>parseInt(roleNow().memberCount) ? '还需 '+(roleNow().memberQuota-roleNow().memberCount)+' 人' : parseInt(roleNow().memberQuota)<=parseInt(roleNow().memberCount) ? '已满' : '' "></span></div></div><div class="Row Date"><label class="Text Label">期 限</label> <input class="Input Text Date" placeholder="报名截止期限（0 代表不限日期）" data-lang="zh" data-min-year="2016" data-format="Y-m-d" data-translate-mode="true" data-large-mode="true" data-lock="from" data-large-default="true" data-modal="true" data-init-set="false" data-bind="value: roleNow().info.dateEnd, attr:{'data-default-date':new Date(new Date().setDate(new Date().getDate()+30)).toISOString(),'data-max-year':new Date().getFullYear()+10}, with:$($element).dateDropper()" type="text" maxlength="20"></div><div class="Row Salary"><label class="Text Label">酬 劳</label> <input class="Input Text Salary" type="text" placeholder="工资或其他形式的回报" required data-bind="value:roleNow().info.salary"></div><div class="Block Story Editor"><div data-bind="foreach:roleNow().info.dutyAndGain, value: new Sortable($element,{ animation:200, handle:'.DeleteSection', chosenClass:'Chosen2Move', dragClass:'OnMoving', onEnd: function(evt){ editor.switchSection(evt,roleNow().info.dutyAndGain,updateRole); } } )"><fieldset class="StoryItem" data-bind="if:$data"><textarea class="Text Area" data-bind="visible:$data.hasOwnProperty('text'), value:$data.text, with:sow.UI.autoHeightTextarea($element)" maxlength="10000" placeholder="详细说明需求和回报：【需求】专业、学历、经验、地点、等等，以找到最合适的人选。【回报】工资、奖品、资格、等等，给予充分的尊重和激励，以吸引优秀的人才。" title="点击修改文字"></textarea> <img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}, click: editor.uploadImage.bind($parent, $index(), $parent.roleNow, 'info.dutyAndGain', $parent.updateRole)" title="点击修改图片"><!-- 2016-08-23 苦战一天，终于发现，swipeleft 事件里，执行 input file 元素的 click 是无效的，必须改成 click 事件里执行 click 才可以。 --><!-- 不要在这里定义 file input, 以免重新选择文件后，激发一次无用的 updateProject --><div class="Icon DeleteSection" data-bind="click:editor.deleteSection.bind($parent, $index(), $parent.roleNow, 'info.dutyAndGain', $parent.updateRole)" title="点击删除，或者拖拽排序">☰</div></fieldset></div><div class="Toolbar"><!--div class="Text Line Feedback Save" data-bind="text:editor.feedback()"></div--> <button class="Tecon AddText" data-bind="click: editor.addText.bind($data, roleNow, 'info.dutyAndGain')"><i class="fas fa-pencil-alt"></i> 文 字</button> <button class="Tecon AddImage" data-bind="click: editor.uploadImage.bind($data, undefined, roleNow, 'info.dutyAndGain', updateRole)"><i class="far fa-image"></i> 图 片</button></div></div><button class="Button Submit" data-bind="click: createRole, visible:!roleNow().aiid"><i class="fa fa-upload"></i> 发 布</button><!--button class="Tecon Delete" data-bind="click:deleteRoleNow, visible:roleNow().aiid">取消招募</button--><div data-bind="visible: roleNow().aiid"><!-- 已经存在的角色 --><div class="Block PersonSet MemberSet"><div class="Row Stats"><label class="Text Label">签 约</label> <span class="Text Number MemberCount" data-bind="text:roleNow().memberCount"></span><!--div class="Text Progress"><span data-bind="text: parseInt(roleNow().memberQuota)===0 ? '还需任意人' : parseInt(roleNow().memberQuota)>parseInt(roleNow().memberCount) ? '还需 '+(roleNow().memberQuota-roleNow().memberCount)+' 人' : parseInt(roleNow().memberQuota)<=parseInt(roleNow().memberCount) ? '已满' : '' "></span></div--></div><fieldset data-bind="foreach: sow.Tool.readPath('roleNow()._data.memberSet',$data)"><div class="PersonTecon Member"><img class="Image Portrait" data-bind="attr:{src:space.path2url($data.icon)}, click:function(){starModel.targetPerson($data);space.inProject('NONE_PROJECT');}"><div class="Text Nick" data-bind="text:$data.nick"></div></div></fieldset></div><div class="Block PersonSet AppliedSet"><div class="Row Stats"><label class="Text Label">候 选</label> <span class="Text Number AppliedCount" data-bind="text:roleNow().appliedCount"></span></div><fieldset data-bind="foreach: sow.Tool.readPath('roleNow()._data.appliedSet',$data)"><div class="PersonTecon Applied"><img class="Image Portrait" data-bind="attr:{src:space.path2url($data.icon)}, click:$parent.showPerson"><div class="Text Nick" data-bind="text:$data.nick"></div><button class="Button Approve" data-bind="click:function(){ dialog.showDialog( { text:'您确认和“'+$data.nick+'”签约加入团队吗？', scenario:'APPROVE', onConfirm:$parent.joinPerson.bind($parent,$data,$index()) } ); } "><i class="far fa-handshake"></i> 签 约</button></div></fieldset></div><!--              <div class="Block PersonSet InvitedSet" data-bind="foreach: sow.Tool.readPath('roleNow()._data.invitedSet',$data)">
                <div class="InvitedIcon" data-bind="style:{backgroundImage:space.path2url($data.icon, true)}, text:$data.nick?nick:aiid"></div>
              </div>
--></div></div></fieldset></div></div><!-- STAGE --><div id="myProjectChip" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_CHIP'}"><!-- && viewNow()==='MILESTONE'}"--><div class="Scene" data-bind="visible:sceneChip()==='CHIP_LIST'"><div class="SceneHeader Project" data-bind="style:{backgroundImage:space.path2url(project().bgimage, true)}"></div><fieldset class="ViewPageScroll"><div class="Cover Head">不靠资本靠众筹，小零钱成就大事业！</div><!--button class="Tecon Create" data-bind="">新建一轮众筹</button--><div class="Block FundingRound" data-bind="event:{change:updateProject}"><div class="Row Goal"><label class="Text Label">筹 资</label><div class="Symbol Currency" data-bind="text:space.symbolOfCurCode(project().fundCurrency)"></div><input class="Input Text Money" type="text" maxlength="6" onkeyup="value=value.replace(/[^\d]/g,&#34;&#34;)" placeholder="筹资总金额目标（0 代表不限总额）" data-bind="value:$data.project().fundGoal" required> <select class="Select Currency" data-bind="options: space.currencyList, optionsValue:'code', optionsText:space.textOfCurrency, value: project().fundCurrency"></select></div><div class="Row Date"><label class="Text Label">期 限</label> <input class="Input Text Date" placeholder="截止期限（0 代表不限时间）" data-lang="zh" data-format="Y-m-d" data-translate-mode="true" data-large-mode="true" data-lock="from" data-large-default="true" data-min-year="2016" data-modal="true" data-init-set="false" data-bind="value: $data.project().dateEndFund, attr:{'data-default-date':new Date(new Date().setDate(new Date().getDate()+30)).toISOString(),'data-max-year':new Date().getFullYear()+10}, with:$($element).dateDropper()" type="text" maxlength="20" required></div><div class="RadialIndicator Goal" data-bind="with:$data.fundAmountIndicator=radialIndicator($element,{fontColor:'#FF7272',barBgColor:'#EEEEEE',barColor:'#FF7272',fontSize:20,radius:$element.offsetHeight/2-5,fontFamily:'Microsoft YaHei'})"><!-- format:'￥#' --> <label class="Row Text Label">已筹</label></div><div class="Block Story Editor"><div data-bind="foreach:project().fundUsage, value: new Sortable($element,{ animation:200, handle:'.DeleteSection', chosenClass:'Chosen2Move', dragClass:'OnMoving', onEnd: function(evt){ editor.switchSection(evt,project().fundUsage,updateProject); } } )"><fieldset class="StoryItem" data-bind="if:$data"><textarea class="Text Area" data-bind="visible:$data.hasOwnProperty('text'), value:$data.text,with:sow.UI.autoHeightTextarea($element)" maxlength="10000" placeholder="资金用途：详细说明筹集的资金用来做什么？给大家一个支持您的理由！越清晰、越可靠，就越能获得大家的信任，得到更积极的认筹。" title="点击修改文字"></textarea> <img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}, click: editor.uploadImage.bind($parent, $index(), $parent.project, 'fundUsage', $parent.updateProject)" title="点击修改图片"><!-- 2016-08-23 苦战一天，终于发现，swipeleft 事件里，执行 input file 元素的 click 是无效的，必须改成 click 事件里执行 click 才可以。 --><!-- 不要在这里定义 file input, 以免重新选择文件后，激发一次无用的 updateProject --><div class="Icon DeleteSection" data-bind="click:editor.deleteSection.bind($parent, $index(), $parent.project, 'fundUsage', $parent.updateProject)" title="点击删除，或者拖拽排序">☰</div></fieldset></div><div class="Toolbar"><!--div class="Text Line Feedback Save" data-bind="text:editor.feedback()"></div--> <button class="Tecon AddText" data-bind="click: editor.addText.bind($data, project, 'fundUsage')"><i class="fas fa-pencil-alt"></i> 文 字</button> <button class="Tecon AddImage" data-bind="click: editor.uploadImage.bind($data, undefined, project, 'fundUsage', updateProject)"><i class="far fa-image"></i> 图 片</button></div></div></div><div data-bind="visible:parseInt($data.project().fundGoal)>=0 && Date.user2Date($data.project().dateEndFund).toJSON()"><button class="Tecon Create" data-bind="click:prepareChip"><i class="fa fa-plus"></i> 筹 码</button> <button class="LoadButton" data-bind="click:refreshChipList" title="加载更多"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><fieldset class="Cover" data-bind="visible:!chipList().length">把筹资总额分成小份，<br>设置不同规格，<br>方便个人认筹。</fieldset><fieldset class="Block ChipList" data-bind="foreach:$data.chipList"><div class="ChipItem" data-bind="click:$parent.showChip.bind($parent,$data,$index()), css:{Frozen:parseInt(orderQuota)!==0 && !(parseInt(orderQuota)>parseInt(orderCount))}"><div class="Row Title"><div class="Text Line" data-bind="text:$data.title"></div></div><div class="Row Text Money InCard"><span data-bind="text: space.symbolOfCurCode($parent.project().fundCurrency)+' '+(parseFloat($data.price)>=0.01?$data.price:parseFloat($data.price)===0?'任意':'待定')"></span></div><div class="Row Progress"><div class="Text Progress"><span data-bind="text:parseInt(orderCount)>=0?'已订 '+orderCount+' 席, ':''"></span><span data-bind="text: parseInt(orderQuota)===0 ? '还剩任意席' : parseInt(orderQuota)>parseInt(orderCount) ? '还剩 '+(orderQuota-orderCount)+' 席' : parseInt(orderQuota)<=parseInt(orderCount) ? '已满' : '' "></span></div><div class="ProgressBar" data-bind="style:{width: parseInt($data.orderQuota)===0 ? '50%': parseInt(orderQuota)>parseInt(orderCount) ? (100*$data.orderCount/$data.orderQuota +'%') : '100%'}"></div></div></div></fieldset><button class="LoadButton" data-bind="click:appendChipList, visible:chipList().length>=space.limitSelect" title="加载更多"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button><br><br></div></fieldset></div><div class="Scene" data-bind="visible:sceneChip()==='CHIP_ONE'"><fieldset class="ViewPageScroll HasBottomButton"><button class="Tecon Return" data-bind="click: back2ListChip"><i class="fa fa-undo"></i> 返 回</button><div data-bind="event:{change:$data.updateChip}"><div class="Row Money"><label class="Text Label">金 额</label><div class="Symbol Currency" data-bind="text:space.symbolOfCurCode(project().fundCurrency)"></div><input type="text" class="Text Money" maxlength="6" onkeyup="value=value.replace(/[^\d\.]/g,&#34;&#34;)" data-bind="value:$data.chipNow().price" placeholder="每份筹码的金额（0 代表任意金额）" required> <select class="Select Currency Disabled" disabled><option data-bind="text:space.textOfCurCode(project().fundCurrency)"></option></select></div><div class="Row Quota"><label class="Text Label">名 额</label> <input class="Text Number Quota" type="text" maxlength="4" onkeyup="value=value.replace(/[^\d]/g,&#34;&#34;)" data-bind="value:$data.chipNow().orderQuota" placeholder="人数限额（0 代表不限人数）" required><div class="ProgressBar" data-bind="style:{width: parseInt(chipNow().orderQuota)===0 ? '50%' : parseInt(chipNow().orderQuota)>parseInt(chipNow().orderCount) ? (100*chipNow().orderCount/chipNow().orderQuota + '%') : parseInt(chipNow().orderQuota)<=parseInt(chipNow().orderCount) ? '100%' : 0}"></div><div class="Text Progress"><span data-bind="text:parseInt(chipNow().orderCount)>=0?'已订 '+chipNow().orderCount+' 席, ':''"></span><span data-bind="text: parseInt(chipNow().orderQuota)===0 ? '还剩任意席' : parseInt(chipNow().orderQuota)>parseInt(chipNow().orderCount) ? '还剩 '+(chipNow().orderQuota-chipNow().orderCount)+' 席' : parseInt(chipNow().orderQuota)<=parseInt(chipNow().orderCount) ? '已满' : '' "></span></div></div><div class="Row Title"><label class="Text Label">回 报</label> <input type="text" class="Text Title" data-bind="attr:{maxlength:sow.Const.MAX_NAME}, value:$data.chipNow().title" placeholder="您回报给认筹人的产品、资格或其他的名称。" required></div><!--            <fieldset class="Block Reward">
              <textarea id="myProjectFundContent" class="Text Area Reward" maxlength="10000" data-bind="value:$data.chipNow().content, with:sow.UI.autoHeightTextarea($element)" placeholder="详细说明认筹人将在什么时间，获得什么回报，例如，产品、资格、权利或其他。共创的事业，一定要共享成果，才能成功哦。"></textarea>
              <label>回 报</label>
            </fieldset> --><div class="Block Story Editor"><div data-bind="foreach:chipNow().content, value: new Sortable($element,{ animation:200, handle:'.DeleteSection', chosenClass:'Chosen2Move', dragClass:'OnMoving', onEnd: function(evt){ editor.switchSection(evt,chipNow().content,updateChip); } } )"><fieldset class="StoryItem" data-bind="if:$data"><textarea class="Text Area" data-bind="visible:$data.hasOwnProperty('text'), value:$data.text,with:sow.UI.autoHeightTextarea($element)" maxlength="10000" placeholder="详细说明认筹人将在什么时间，获得什么回报，例如，产品、资格、荣誉或其他。共创的事业，一定要共享成果，才能成功哦。" title="点击修改文字"></textarea> <img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}, click: editor.uploadImage.bind($parent, $index(), $parent.chipNow, 'content', $parent.updateChip)" title="点击修改图片"><!-- 2016-08-23 苦战一天，终于发现，swipeleft 事件里，执行 input file 元素的 click 是无效的，必须改成 click 事件里执行 click 才可以。 --><!-- 不要在这里定义 file input, 以免重新选择文件后，激发一次无用的 update --><div class="Icon DeleteSection" data-bind="click:editor.deleteSection.bind($parent, $index(), $parent.chipNow, 'content', $parent.updateChip)" title="点击删除，或者拖拽排序">☰</div></fieldset></div><div class="Toolbar"><!--div class="Text Line Feedback Save" data-bind="text:editor.feedback()"></div--> <button class="Tecon AddText" data-bind="click: editor.addText.bind($data, $data.chipNow, 'content')"><i class="fas fa-pencil-alt"></i> 文 字</button> <button class="Tecon AddImage" data-bind="click: editor.uploadImage.bind($data, undefined, chipNow, 'content', updateChip)"><i class="far fa-image"></i> 图 片</button></div></div></div><button class="Button Submit" data-bind="click: createChip, visible:!$data.chipNow().aiid"><i class="fa fa-upload"></i> 发 布</button></fieldset><div class="BottomRow"><button class="Button Submit" data-bind="click:preparePayChip,visible:$data.chipNow().aiid && (parseFloat($data.chipNow().price)>=0.01 || parseFloat($data.chipNow().price)===0) && parseInt(chipNow().orderQuota)>=0 && chipNow().title"><i class="fab fa-envira"></i> 认 筹</button></div></div><!-- Scene --></div><!-- STAGE --><div id="myProjectLog" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_LOG'}"><div class="Scene" data-bind="visible:sceneLog()==='LOG_LIST'"><div class="SceneHeader Project" data-bind="style:{backgroundImage:space.path2url(project().bgimage, true)}"></div><fieldset class="ViewPageScroll"><div class="Cover Head" data-bind="visible:logList().length">公告项目进展，促进社区互动</div><button class="Tecon Create" data-bind="click: prepareLog"><i class="fa fa-plus"></i> 日 志</button><!--button class="Tecon Chat" data-bind="click: sceneLog.bind($data, 'SCENE_CHAT')">开 会</button--> <button class="LoadButton" data-bind="click:refreshLogList" title="最新话题"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><fieldset class="Cover" data-bind="visible:!logList().length">公告项目进展，<br>解答观众问题，<br>让更多人了解我的项目。</fieldset><!--fieldset class="PlogItem" data-bind="click:sceneLog.bind($data, 'SCENE_CHAT')">
            <div class="Left">
              <div class="Text Date">聊 天</div>
            </div>
            <fieldset class="Middle">当前人数：3 用户，10 游客。</fieldset>
          </fieldset--><div class="Block List LogList" data-bind="foreach: logList"><fieldset class="PlogItem" data-bind="click:$parent.showLog.bind($parent,$data,$index())"><!-- event:{taphold: $parent.deleteLog.bind($data,$index(),$element)} --><div class="Left"><div data-bind="if:$data.ownerSid===$parent.project().ownerSid"><div class="Text Date" data-bind="html:$parent.parseWhen($data.whenInserted)"></div></div><div data-bind="if:$data.ownerSid!==$parent.project().ownerSid"><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('_data.owner.icon',$data), true)}"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('_data.owner.nick',$data)"></div></div></div><fieldset class="Middle"><pre class="Text Line Title" data-bind="text:$data.title"></pre></fieldset><div class="Bottom"><div class="Tecon Length" title="正文长度"><i class="fa fa-font"></i> <span data-bind="text:space.contentLength($data.content)"></span></div><div class="Tecon Length" title="图片数量"><i class="fa fa-image"></i> <span data-bind="text:space.imageCount($data.content)"></span></div><!--div class="Tecon VoteGood" data-bind="text:voteGood?voteGood:0"></div--><div class="Tecon Reply" title="回复数量"><i class="fa fa-reply"></i> <span data-bind="text:replyCount||0"></span></div><div class="Text DateTime" data-bind="text:$data.ownerSid===$parent.project().ownerSid?Date.formatDate($data.whenInserted, 'HH:MM'):Date.formatDate($data.whenInserted, 'yyyy-mm-ddHH:MM')"></div></div></fieldset></div><button class="LoadButton" data-bind="click:appendLogList,visible:logList().length>=space.limitSelect" title="更多话题"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button><br><br><!-- 避免太靠近底栏圆形按钮 --></fieldset></div><div class="Scene" data-bind="visible:sceneLog()==='LOG_ONE'"><fieldset class="ViewPageScroll" data-bind="css:{ HasReplyEditor: logNow().aiid }"><button class="Tecon Return" data-bind="click: back2ListLog"><i class="fa fa-undo"></i> 返 回</button><div data-bind="if:logNow().ownerSid===project().ownerSid || !logNow().aiid"><!-- 我的项目的已建或新建日志 --><div data-bind="event:{ change: updateLog}"><fieldset class="PlogItem Alone"><div class="Left"><div class="Text Date" data-bind="html:parseWhen(logNow().whenInserted||new Date())"></div></div><fieldset class="Middle"><input class="Text Line Title" type="text" required placeholder="请输入标题" data-bind="attr:{maxlength:sow.Const.MAX_TITLE}, value:logNow().title"></fieldset><div class="Bottom" data-bind="if:logNow().aiid"><div class="Tecon Length" title="正文长度"><i class="fa fa-font"></i> <span data-bind="text:space.contentLength(logNow().content)"></span></div><div class="Tecon Length" title="图片数量"><i class="fa fa-image"></i> <span data-bind="text:space.imageCount(logNow().content)"></span></div><!--div class="Tecon VoteGood" data-bind="text:logNow().voteGood?logNow().voteGood:0"></div--><div class="Tecon Reply" title="回复数量"><i class="fa fa-reply"></i> <span data-bind="text:logNow().replyCount||0"></span></div><div class="Text DateTime" data-bind="text:Date.formatDate(logNow().whenInserted,'HH:MM')"></div></div></fieldset><div class="Block Story Editor"><div data-bind="foreach:logNow().content, value: new Sortable($element,{ animation:200, handle:'.DeleteSection', chosenClass:'Chosen2Move', dragClass:'OnMoving', onEnd: function(evt){ editor.switchSection(evt,logNow().content,updateLog); } } )"><fieldset class="StoryItem" data-bind="if:$data"><textarea class="Text Area" data-bind="visible:$data.hasOwnProperty('text'), value:$data.text, with:sow.UI.autoHeightTextarea($element)" maxlength="10000" placeholder="请输入文字。" title="点击修改文字"></textarea> <img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}, click: editor.uploadImage.bind($parent, $index(), $parent.logNow, 'content', $parent.updateLog)" title="点击修改图片"><!-- 2016-08-23 苦战一天，终于发现，swipeleft 事件里，执行 input file 元素的 click 是无效的，必须改成 click 事件里执行 click 才可以。 --><!-- 不要在这里定义 file input, 以免重新选择文件后，激发一次无用的 updateLog --><div class="Icon DeleteSection" data-bind="click:editor.deleteSection.bind($parent, $index(), $parent.logNow, 'content', $parent.updateLog)" title="点击删除，或者拖拽排序">☰</div></fieldset></div><div class="Toolbar"><!--div class="Text Line Feedback Save" data-bind="text:editor.feedback()"></div--> <button class="Tecon AddText" data-bind="click: editor.addText.bind($data, $data.logNow, 'content')"><i class="fas fa-pencil-alt"></i> 文 字</button> <button class="Tecon AddImage" data-bind="click: editor.uploadImage.bind($data, undefined, $data.logNow, 'content', updateLog.bind($data))"><i class="far fa-image"></i> 图 片</button></div></div></div><button class="Button Submit" data-bind="click: createLog, visible: !logNow().aiid"><i class="fa fa-upload"></i> 发 布</button><!-- 备用：button class="Tecon Save">保存修改</button--> <button class="Tecon Delete" data-bind="visible: logNow().aiid, click: deleteLogNow">删除本文</button></div><div data-bind="ifnot:logNow().ownerSid===project().ownerSid || !logNow().aiid"><!-- 不是项目日志（即不是我写的），并且是已经存在的：别人的发言 --><fieldset class="PlogItem Alone Reader"><div class="Left Clickable" data-bind="click:showPerson.bind($data, sow.Tool.readPath('logNow()._data.owner',$data))"><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('logNow()._data.owner.icon',$data), true)}"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('logNow()._data.owner.nick',$data)"></div></div><fieldset class="Middle"><pre class="Text Line Title" data-bind="text:logNow().title"></pre></fieldset><div class="Bottom"><div class="Tecon Length" title="正文长度"><i class="fa fa-font"></i> <span data-bind="text:space.contentLength(logNow().content)"></span></div><div class="Tecon Length" title="图片数量"><i class="fa fa-image"></i> <span data-bind="text:space.imageCount(logNow().content)"></span></div><!--div class="Tecon VoteGood" data-bind="text:logNow().voteGood?logNow().voteGood:0"></div--><div class="Tecon Reply" title="回复数量"><i class="fa fa-reply"></i> <span data-bind="text:logNow().replyCount||0"></span></div><div class="Text DateTime" data-bind="text: Date.formatDate(logNow().whenInserted, 'yyyy-mm-ddHH:MM')"></div></div></fieldset><div class="Block Story Reader InLog" data-bind="foreach:logNow().content"><pre class="Text Area" data-bind="visible:$data.hasOwnProperty('text') && space.textLength($data.text)>0, html: sow.Tool.filterUrl($data.text)"></pre><img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}"></div></div><button class="LoadButton" data-bind="click:refreshReplySet,visible:logNow().aiid" title="最新回复"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><div class="Block List ReplySet" data-bind="foreach: replySet, visible: logNow().aiid && replySet().length"><fieldset class="ReplyItem" data-bind="css:{ HostMsg : starModel.targetPerson().aiid===sow.Tool.readPath('_data.owner.aiid',$data), MyMsg: starModel.onlinePerson().aiid===sow.Tool.readPath('_data.owner.aiid',$data) }"><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('_data.owner.icon',$data), true)}, click:space.showPerson.bind($parent, $data._data.owner)"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('_data.owner.nick',$data)"></div><pre class="Text Area" data-bind="text:sow.Tool.readPath('content.text',$data)"></pre><div class="Bottom"><div class="Text Date" data-bind="text: Date.formatDate($data.whenInserted, 'yyyy-mm-ddHH:MM')"></div></div></fieldset></div><button class="LoadButton" data-bind="click:appendReplySet,visible:replySet().length>=space.limitSelect" title="更多回复"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button></fieldset><div class="Block Reply Editor" data-bind="visible:logNow().aiid"><textarea placeholder="积极回复，让更多人了解我的项目。" data-bind="attr:{maxlength:sow.Const.MAX_TITLE}, value:newReply().content.text, with:sow.UI.autoHeightTextarea($element)"></textarea> <button class="Button Reply" data-bind="click:replyMessage.bind($data,logNow,sow.Tool.getPrevSibling($element))"></button></div></div></div><!-- STAGE --><div id="myProjectChat" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_CHAT'}"><div class="Scene" data-bind="with:chatroom.setModel({chatWindow:$element.getElementsByClassName('ChatWindow')[0], chatContent:$element.getElementsByClassName('ChatContent')[0]})"><!--div class="SceneHeader Project" data-bind="style:{backgroundImage:space.path2url($parent.project().bgimage, true)}"></div--><fieldset class="ViewPage"><div class="ChatHeader"><div class="Cover Head"><span style="float:left" data-bind="text:(roomInfo().onlineCount||0) + ' 成员，' + (roomInfo().anonCount||0) + ' 游客'"></span><!--button class="Tecon Return" data-bind="click: $parent.sceneLog.bind($data,'LOG_LIST')"><i class="fa fa-undo"></i> 返 回</button--></div></div><div class="ChatWindow"><div class="ChatContent" data-bind="foreach: chatMessageList"><fieldset class="ChatItem" data-bind="css:{ MyMsg: starModel.onlinePerson().aiid===sow.Tool.readPath('_data.owner.aiid',$data) }"><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('_data.owner.icon',$data), true)}, click:space.showPerson.bind($parent, $data._data.owner)"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('_data.owner.nick',$data)"></div><pre class="Text Area" data-bind="html: sow.Tool.filterUrl($data.content.text), visible: $data.content.text"></pre><img class="Message Image" data-bind="attr:{src: $data.content.image}, visible:$data.content.image"><audio class="AudioPlayer" preload="meta" controls data-bind="visible:$data.content.audio, attr:{src: space.path2url($data.content.audio)}">您的系统不支持播放本音频</audio></fieldset></div></div></fieldset><div class="Block Reply Editor"><!--button data-bind="click:sendChatAudio" style="position:absolute;top:-20px;left:0;">斗一首歌</button--> <textarea placeholder="输入文字发言，或点击按钮贴图。" data-bind="attr:{maxlength:sow.Const.MAX_TITLE}, value:newChatText, with:sow.UI.autoHeightTextarea($element)"></textarea> <button class="Button Reply" data-bind="click:sendChatMessage.bind($data,sow.Tool.getPrevSibling($element))"></button></div></div><!-- end of scene --></div><!-- end of stage --><div class="Footer"><!--div class="StageMenu">
        <nav class="FootPace" style="width:25%;" data-bind="click: stageNow.bind($data,'STAGE_DREAM'), css: {Doing: stageNow()==='STAGE_DREAM',Done:stageNow()!=='STAGE_DREAM'}"><span class="Middle"></span><span class="Right"></span>梦 想</nav>
        <nav class="FootPace" style="width:25%;" data-bind="click: stageNow.bind($data,'STAGE_TEAM'), css: {Todo:stageNow()==='STAGE_DREAM',Doing:stageNow()==='STAGE_TEAM',Done:stageNow()==='STAGE_CHIP'||stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><span class="Right"></span>招 人</nav>
        <nav class="FootPace" style="width:25%;" data-bind="click: stageNow.bind($data,'STAGE_CHIP'), css: {Todo:stageNow()==='STAGE_DREAM'||stageNow()==='STAGE_TEAM',Doing:stageNow()==='STAGE_CHIP',Done:stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><span class="Right"></span>筹 钱</nav>
        <nav class="FootPace" style="width:25%;" data-bind="click: stageNow.bind($data,'STAGE_LOG'), css: {Todo:stageNow()!=='STAGE_LOG',Doing: stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span>社 区</nav>
      </div--><div class="StageMenu"><nav class="FootPace" style="width:20%" data-bind="click: stageNow.bind($data,'STAGE_DREAM'), css: {Doing: stageNow()==='STAGE_DREAM', Done:stageNow()!=='STAGE_DREAM'}"><span class="Middle"></span><span class="Right"></span><br>梦 想</nav><nav class="FootPace" style="width:20%" data-bind="click: stageNow.bind($data,'STAGE_CHIP'), css: {Todo:stageNow()==='STAGE_DREAM', Doing:stageNow()==='STAGE_CHIP', Done:stageNow()==='STAGE_CHAT'||stageNow()==='STAGE_TEAM'||stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><span class="Right"></span><br>筹 钱</nav><nav class="FootPace" style="width:20%" data-bind="click: stageNow.bind($data,'STAGE_CHAT'), css: {Todo:stageNow()==='STAGE_DREAM'||stageNow()==='STAGE_CHIP', Doing:stageNow()==='STAGE_CHAT', Done:stageNow()==='STAGE_TEAM'||stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><span class="Right"></span><br>开 会</nav><nav class="FootPace" style="width:20%" data-bind="click: stageNow.bind($data,'STAGE_TEAM'), css: {Todo:['STAGE_DREAM','STAGE_CHIP','STAGE_CHAT'].indexOf(stageNow())>=0, Doing: stageNow()==='STAGE_TEAM', Done: stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><span class="Right"></span><br>招 人</nav><nav class="FootPace" style="width:20%" data-bind="click: stageNow.bind($data,'STAGE_LOG'), css: {Todo:stageNow()!=='STAGE_LOG',Doing: stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><br>社 区</nav></div><div class="Frozen" style="position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background-color:rgba(255,255,255,.7)" data-bind="visible:!project().aiid" title="请先发布梦想，即可进入后续阶段"></div></div></div><!-- End of Space Project Lead --><div id="ourProject" class="Space Project" data-bind="with: ourProject.setProp('domel',$element), css:{ActiveView:starModel.isOnline() && starModel.where()==='SPACE_HOST' && space.inProject()==='TEAM_PROJECT'}"></div><div id="urProject" class="Space Project" data-bind="with: urProject.setProp('domel',$element), css:{ActiveView:starModel.where()==='SPACE_HOST' && space.inProject()==='UR_PROJECT'}"><div class="Header"><div class="Text Line Subject" data-bind="text:project().subject"></div><!--div class="HeadToolbar">
        <button class="Tecon Plog" data-bind="click:function(){ if (viewNow()!=='VIEW_PLOG') viewNow('VIEW_PLOG'); else viewNow('MILESTONE');}, css: {Active:viewNow()==='VIEW_PLOG'}">讨论</button>
      </div--><div class="Avatar Logo" data-bind="click: goAll, event:{taphold:goAll.bind($data,'STAGE_ABOUT')}" title="回广场"></div><div class="Avatar User" data-bind="click: goHome, event:{taphold:goHome.bind($data,'STAGE_ABOUT')}, style: {backgroundImage: space.path2url(starModel.onlinePerson().icon, true)}, attr:{title:starModel.isOnline()?'单击回家，长按打开名片':'单击登录，长按切换语言'}" title="单击回家或登录，长按显示名片或切换语言"></div><!--
      <div class="RingMenu ActionButton" data-bind="css:{OnRingMenu: space.onRingMenu()}">
        <button class="RingButton Forward" data-bind="click:forward, event:{taphold:forward.bind($data, 'DIALOG')}" title="转发本页面"></button>
        <button class="RingButton Care" data-bind="click:toggleCare, css:{Active:sow.Tool.readPath('_data.care.status', $data.project())===sow.Const.STAT_ON}, attr:{title:(sow.Tool.readPath('_data.care.status', $data.project())===sow.Const.STAT_ON)?'取消关注':'开始关注'}"></button>
        <button class="RingButton Complain" data-bind="click:showComplain" title="投诉"></button>
      </div>
      <button class="ActionButton" data-bind="click:toggleRingMenu, event:{taphold:forward}" title="短按打开菜单，长按2秒进行转发"></button>
--> <button class="ActionButton Forward Left" data-bind="click:forward, event:{taphold:forward.bind($data, 'DIALOG')}, visible:!(stageNow()==='STAGE_LOG' && sceneLog()==='LOG_ONE' && !logNow().aiid)" title="转发本页面"><i class="fas fa-share-alt"></i></button> <button class="ActionButton Care Right" data-bind="click:toggleCare, event:{taphold:showComplain}, css:{Active:sow.Tool.readPath('_data.care.status', $data.project())===sow.Const.STAT_ON}, attr:{title:(sow.Tool.readPath('_data.care.status', $data.project())===sow.Const.STAT_ON)?'取消关注':'开始关注'}" title="短按切换关注，长按可投诉"><i class="fas fa-heart"></i></button></div><div id="urProjectDream" class="Stage Ur Project Dream" data-bind="css:{ActiveView:stageNow()==='STAGE_DREAM'}"><div class="Scene"><div class="SceneHeader Project" data-bind="style:{backgroundImage:space.path2url(project().bgimage, true)}"></div><fieldset class="ViewPageScroll"><div class="Box Owner" data-bind="click:showPerson.bind($data,starModel.targetPerson())" title="访问该用户"><button class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(starModel.targetPerson().icon, true)}"></button><div class="Text Nick" data-bind="text:starModel.targetPerson().nick"></div></div><div class="Text Line Subject" data-bind="text:project().subject"></div><div class="Row Place"><div class="Text Line Place" data-bind="text:project().info.place||'地点待定'"></div></div><div class="Row Date"><div class="Text Line Date From" data-bind="text: project().info.dateStart||'启动日期'"></div><div class="Icon FromTo" style="color:transparent">a</div><!-- 在微信里，两个日期连着居然会被解析成电话号码超链接，显示为红色，可点击。因此加个字符去防止这种行为。 --><div class="Text Line Date To" data-bind="text:project().info.dateEnd||'结束日期'"></div></div><fieldset class="PlanList" data-bind="foreach:project().planList"><div class="Row InList" style="height:auto"><label class="Text Label" data-bind="text:$data.ukey"></label><div class="Seperator Bar"></div><pre class="Text Line" data-bind="text:$data.uvalue"></pre></div></fieldset><div class="Block Story Reader" data-bind="foreach:project().dream"><pre class="Text Area" data-bind="visible:$data.hasOwnProperty('text') && space.textLength($data.text)>0, html: sow.Tool.filterUrl($data.text)"></pre><img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}"></div></fieldset></div></div><!-- STAGE --><div id="urProjectTeam" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_TEAM'}"><div class="Scene" data-bind="visible: sceneTeam()==='ROLE_LIST'"><div class="SceneHeader Project" data-bind="style:{backgroundImage:space.path2url(project().bgimage, true)}"></div><fieldset class="ViewPageScroll"><div class="Box Owner" data-bind="click:showPerson.bind($data,starModel.targetPerson())" title="访问该用户"><button class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(starModel.targetPerson().icon, true)}"></button></div><div class="Cover Head" data-bind="visible:roleList().length">雇佣时代已老。今天，快加入合伙团队。</div><br data-bind="visible:!roleList().length"><button class="LoadButton" data-bind="click:refreshRoleList" title="加载最新"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><fieldset class="Cover" data-bind="visible:!roleList().length">主持人没有组建团队。</fieldset><div class="Block" data-bind="foreach:roleList"><fieldset class="RoleItem" data-bind="click: $parent.showRole.bind($parent,$data,$index()), css:{Frozen:parseInt(memberQuota)!==0 && !(parseInt(memberQuota)>parseInt(memberCount))}"><div class="Row Title"><pre class="Text Line Title Full" data-bind="text:$data.name"></pre></div><div class="Row Salary" data-bind="text: sow.Tool.readPath('info.salary', $data)||'酬劳待定'"></div><div class="Row Progress"><div class="Text Progress"><span data-bind="text:parseInt(memberCount)>=0?'已签 '+memberCount+' 人, ':''"></span><span data-bind="text: parseInt(memberQuota)===0 ? '还需任意人' : parseInt(memberQuota)>parseInt(memberCount) ? '还需 '+(memberQuota-memberCount)+' 人' : parseInt(memberQuota)<=parseInt(memberCount) ? '已满' : '' "></span></div><div class="ProgressBar" data-bind="style:{width: parseInt(memberQuota)===0 ? '50%' : parseInt(memberQuota)>parseInt(memberCount) ? (100*memberCount/memberQuota + '%') : parseInt(memberQuota)<=parseInt(memberCount) ? '100%' : 0}"></div></div></fieldset></div><button class="LoadButton" data-bind="click:appendRoleList,visible:roleList().length>=space.limitSelect" title="加载更多"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button><br><br><!-- 避免太靠近底栏圆形按钮 --></fieldset></div><div class="Scene" data-bind="visible: sceneTeam()==='ROLE_ONE'"><fieldset class="ViewPageScroll HasBottomButton"><button class="Tecon Return" data-bind="click:sceneTeam.bind($data,'ROLE_LIST')"><i class="fa fa-undo"></i> 返 回</button><div class="Row Title Reader" style="height:auto"><label class="Text Label">角 色</label><pre class="Text Line Title" data-bind="text:roleNow().name"></pre></div><div class="Row Quota Reader"><label class="Text Label">名 额</label><div class="Text Number MemberQuota" data-bind="text: parseInt(roleNow().memberQuota)===0?'不限人数':parseInt(roleNow().memberQuota)>0?roleNow().memberQuota:'待定'"></div><div class="ProgressBar" data-bind="style:{width: parseInt(roleNow().memberQuota)===0 ? '50%' : parseInt(roleNow().memberQuota)>parseInt(roleNow().memberCount) ? (100*roleNow().memberCount/roleNow().memberQuota + '%') : parseInt(roleNow().memberQuota)<=parseInt(roleNow().memberCount) ? '100%' : 0}"></div><div class="Text Progress"><span data-bind="text:parseInt(roleNow().memberCount)>=0?'已签 '+roleNow().memberCount+' 人, ':''"></span><span data-bind="text: parseInt(roleNow().memberQuota)===0 ? '还需任意人' : parseInt(roleNow().memberQuota)>parseInt(roleNow().memberCount) ? '还需 '+(roleNow().memberQuota-roleNow().memberCount)+' 人' : parseInt(roleNow().memberQuota)<=parseInt(roleNow().memberCount) ? '已满' : '' "></span></div></div><div class="Row Date Reader"><label class="Text Label">期 限</label><div class="Text Date" data-bind="text: (date=Date.user2Date(sow.Tool.readPath('info.dateEnd',$data.roleNow()))).getTime()===0 ? '不限时间' : date.getTime()>0 ? date.toString() : '待定' "></div></div><div class="Row Salary Reader"><label class="Text Label">酬 劳</label><div class="Text Salary" data-bind="text: sow.Tool.readPath('info.salary', roleNow())"></div></div><div class="Block Story Reader" data-bind="foreach:roleNow().info.dutyAndGain"><pre class="Text Area" data-bind="visible:$data.hasOwnProperty('text') && space.textLength($data.text)>0, html: sow.Tool.filterUrl($data.text)"></pre><img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}"></div><div class="Block PersonSet MemberSet"><div class="Row Stats"><label class="Text Label">签 约</label> <span class="Text Number MemberCount" data-bind="text:roleNow().memberCount"></span><!--div class="Text Progress"><span data-bind="text: parseInt(roleNow().memberQuota)===0 ? '还需任意人' : parseInt(roleNow().memberQuota)>parseInt(roleNow().memberCount) ? '还需 '+(roleNow().memberQuota-roleNow().memberCount)+' 人' : parseInt(roleNow().memberQuota)<=parseInt(roleNow().memberCount) ? '已满' : '' "></span></div--></div><fieldset data-bind="foreach: sow.Tool.readPath('roleNow()._data.memberSet',$data)"><div class="PersonTecon Member"><img class="Image Portrait" data-bind="attr:{src:space.path2url($data.icon)}, click:function(){starModel.targetPerson($data);space.inProject('NONE_PROJECT');}"><div class="Text Nick" data-bind="text:$data.nick"></div></div></fieldset></div></fieldset><div class="BottomRow"><button class="Button Submit" data-bind="click: joinCircle.bind($data,roleNow), visible: sow.Tool.readPath('_data.join.statusMember', roleNow())!==sow.Const.STAT_ON && (parseInt(roleNow().memberQuota)===0 || roleNow().memberQuota>roleNow().memberCount)"><i class="far fa-hand-paper"></i> 报 名</button><!--button class="Tecon ApplyRole" data-bind="click: joinCircle.bind($data, roleNow), visible: sow.Tool.readPath('_data.join.statusMember', roleNow())!==sow.Const.STAT_ON && (parseInt(roleNow().memberQuota)===0 || roleNow().memberQuota>roleNow().memberCount)">报名应征</button--><div data-bind="visible: sow.Tool.readPath('_data.join.statusMember', roleNow())===sow.Const.STAT_ON && sow.Tool.readPath('_data.join.statusHost', roleNow())!==sow.Const.STAT_ON"><div style="text-align:center;position:absolute;width:100%">您已成功报名，请等待批准。</div><button class="Tecon Quit" data-bind="click: function(){}"><i class="fas fa-share-square"></i> 取消报名</button></div></div></div></div><!-- STAGE --><div id="urProjectChip" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_CHIP'}"><!-- && viewNow()==='MILESTONE'}"--><div class="Scene" data-bind="visible:sceneChip()==='CHIP_LIST'"><div class="SceneHeader Project" data-bind="style:{backgroundImage:space.path2url(project().bgimage, true)}"></div><fieldset class="ViewPageScroll"><div class="Box Owner" data-bind="click:showPerson.bind($data,starModel.targetPerson())" title="访问该用户"><button class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(starModel.targetPerson().icon, true)}"></button></div><div class="Cover Head" data-bind="text:(parseInt($data.project().fundGoal)>=0 && Date.user2Date($data.project().dateEndFund).toJSON())?'不靠资本靠众筹，小零钱获得大回报':'主持人没有发起众筹'"></div><!--  && $data.chipList().length>0 --><!-- 没有资本有零钱，获得更有意义的回报 --><div class="Block FundingRound" data-bind="visible:parseInt($data.project().fundGoal)>=0 && Date.user2Date($data.project().dateEndFund).toJSON()"><!-- && $data.chipList().length>0 --><div class="Row Goal"><label class="Text Label">筹 资</label><div class="Symbol Currency" data-bind="text:space.symbolOfCurCode(project().fundCurrency)"></div><div class="Text Money Reader" data-bind="text: project().fundGoal || '不限总额'"></div><select class="Select Currency Disabled" disabled><option data-bind="text:space.textOfCurCode(project().fundCurrency)"></option></select></div><div class="Row Date"><label class="Text Label">期 限</label><div class="Text Date Reader" data-bind="text: (date=Date.user2Date(project().dateEndFund)).getTime()===0 ? '不限时间' : date.getTime()>0 ? date.toString() : '待定' "></div></div><div class="RadialIndicator Goal" data-bind="with:$data.fundAmountIndicator=radialIndicator($element,{fontColor:'#FF7272',barBgColor:'#EEEEEE',barColor:'#FF7272',fontSize:20,radius:$($element).height()/2-5,fontFamily:'Microsoft YaHei'})"><!-- format:'￥#' --> <label class="Row Text Label">已筹</label></div><div class="Block Story Reader" data-bind="foreach:project().fundUsage"><pre class="Text Area" data-bind="visible:$data.hasOwnProperty('text') && space.textLength($data.text)>0, html: sow.Tool.filterUrl($data.text)"></pre><img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}"></div><button class="LoadButton" data-bind="click:refreshChipList" title="加载最新"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><fieldset class="Block ChipList" data-bind="foreach:$data.chipList"><div class="ChipItem" data-bind="click:$parent.showChip.bind($parent,$data,$index()), css:{Frozen:parseInt(orderQuota)!==0 && !(parseInt(orderQuota)>parseInt(orderCount))}"><div class="Row Title"><pre class="Text Line" data-bind="text:$data.title"></pre></div><div class="Row Text Money InCard"><span data-bind="text: space.symbolOfCurCode($parent.project().fundCurrency)+' '+(parseFloat($data.price)>=0.01?$data.price:parseFloat($data.price)===0?'任意':'待定')"></span></div><div class="Row Progress"><div class="Text Progress"><span data-bind="text:parseInt(orderCount)>=0?'已订 '+orderCount+' 席, ':''"></span><span data-bind="text: parseInt(orderQuota)===0 ? '还剩任意席' : parseInt(orderQuota)>parseInt(orderCount) ? '还剩 '+(orderQuota-orderCount)+' 席' : parseInt(orderQuota)<=parseInt(orderCount) ? '已满' : '' "></span></div><div class="ProgressBar" data-bind="style:{width: parseInt($data.orderQuota)===0 ? '50%': parseInt(orderQuota)>parseInt(orderCount) ? (100*$data.orderCount/$data.orderQuota +'%') : '100%'}"></div></div></div></fieldset><button class="LoadButton" data-bind="click:appendChipList, visible:chipList().length>=space.limitSelect" title="加载更多"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button><br><br></div></fieldset></div><div class="Scene" data-bind="visible:sceneChip()==='CHIP_ONE'"><fieldset class="ViewPageScroll HasBottomButton"><button class="Tecon Return" data-bind="click: sceneChip.bind($data,'CHIP_LIST')"><i class="fa fa-undo"></i> 返 回</button><div class="Row Money Reader"><label class="Text Label">金 额</label><div class="Symbol Currency" data-bind="text:space.symbolOfCurCode(project().fundCurrency)"></div><div class="Text Money" data-bind="text:parseFloat($data.chipNow().price)>=0.01 ? $data.chipNow().price : parseFloat($data.chipNow().price)===0 ? '您可自选任意金额' : '待定'"></div><select class="Select Currency Disabled" disabled><option data-bind="text:space.textOfCurCode(project().fundCurrency)"></option></select></div><div class="Row Quota Reader"><label class="Text Label">名 额</label><div class="Text Number Quota" data-bind="text:$data.chipNow().orderQuota||'不限名额'"></div><div class="ProgressBar" data-bind="style:{width: parseInt(chipNow().orderQuota)===0 ? '50%' : parseInt(chipNow().orderQuota)>parseInt(chipNow().orderCount) ? (100*chipNow().orderCount/chipNow().orderQuota + '%') : parseInt(chipNow().orderQuota)<=parseInt(chipNow().orderCount) ? '100%' : 0}"></div><div class="Text Progress"><span data-bind="text:parseInt(chipNow().orderCount)>=0?'已订 '+chipNow().orderCount+' 席, ':''"></span><span data-bind="text: parseInt(chipNow().orderQuota)===0 ? '还剩任意席' : parseInt(chipNow().orderQuota)>parseInt(chipNow().orderCount) ? '还剩 '+(chipNow().orderQuota-chipNow().orderCount)+' 席' : parseInt(chipNow().orderQuota)<=parseInt(chipNow().orderCount) ? '已满' : '' "></span></div></div><div class="Row Title Reader" title="您将获得的产品、资格或其他的名称" style="height:auto"><label class="Text Label">回 报</label><pre class="Text Title" data-bind="text:$data.chipNow().title"></pre></div><!--            <fieldset class="Block Reward">
              <pre class="Text Area Reward Reader" data-bind="text:$data.chipNow().content||'等待主持人填写'"></pre>
              <label>回 报</label>
            </fieldset> --><div class="Block Story Reader" data-bind="foreach:chipNow().content"><pre class="Text Area" data-bind="visible:$data.hasOwnProperty('text') && space.textLength($data.text)>0, html: sow.Tool.filterUrl($data.text)"></pre><img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}"></div></fieldset><div class="BottomRow"><button class="Button Submit" data-bind="click:preparePayChip,visible:(parseFloat($data.chipNow().price)>=0.01 || parseFloat($data.chipNow().price)===0) && parseInt(chipNow().orderQuota)>=0 && chipNow().title"><i class="fab fa-envira"></i> 认 筹</button></div></div><!-- Scene --></div><!-- STAGE --><div id="urProjectLog" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_LOG'}"><div class="Scene" data-bind="visible:sceneLog()==='LOG_LIST'"><div class="SceneHeader Project" data-bind="style:{backgroundImage:space.path2url(project().bgimage, true)}"></div><fieldset class="ViewPageScroll"><div class="Box Owner" data-bind="click:showPerson.bind($data,starModel.targetPerson())" title="访问该用户"><button class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(starModel.targetPerson().icon, true)}"></button></div><div class="Cover Head">关注项目发展，参与社区交流</div><button class="Tecon Create" data-bind="click: prepareLog"><i class="fa fa-plus"></i> 问 题</button><!--button class="Tecon Chat" data-bind="click: sceneLog.bind($data, 'SCENE_CHAT')">开 会</button--> <button class="LoadButton" data-bind="click:refreshLogList" title="最新话题"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><fieldset class="Cover" data-bind="visible:!logList().length">社区还没有内容。<br>向主持人提个问题吧。</fieldset><!--fieldset class="PlogItem" data-bind="click:sceneLog.bind($data, 'SCENE_CHAT')">
            <div class="Left">
              <div class="Text Date">聊 天</div>
            </div>
            <fieldset class="Middle">当前人数：3 用户，10 游客。</fieldset>
          </fieldset--><div class="Block List LogList" data-bind="foreach: logList"><fieldset class="PlogItem" data-bind="click:$parent.showLog.bind($parent,$data,$index())"><!-- event:{taphold: $parent.deleteLog.bind($data,$index(),$element)} --><div class="Left"><div data-bind="if:$data.ownerSid===$parent.project().ownerSid"><div class="Text Date" data-bind="html:$parent.parseWhen($data.whenInserted)"></div></div><div data-bind="ifnot:$data.ownerSid===$parent.project().ownerSid"><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('_data.owner.icon',$data), true)}"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('_data.owner.nick',$data)"></div></div></div><fieldset class="Middle"><pre class="Text Line Title" data-bind="text:$data.title"></pre></fieldset><div class="Bottom"><div class="Tecon Length" title="正文长度"><i class="fa fa-font"></i> <span data-bind="text:space.contentLength($data.content)"></span></div><div class="Tecon Length" title="图片数量"><i class="fa fa-image"></i> <span data-bind="text:space.imageCount($data.content)"></span></div><!--div class="Tecon VoteGood" data-bind="text:voteGood?voteGood:0"></div--><div class="Tecon Reply" title="回复数量"><i class="fa fa-reply"></i> <span data-bind="text:replyCount||0"></span></div><div class="Text DateTime" data-bind="text:$data.ownerSid===$parent.project().ownerSid?Date.formatDate($data.whenInserted,'HH:MM'):Date.formatDate($data.whenInserted, 'yyyy-mm-ddHH:MM')"></div></div></fieldset></div><button class="LoadButton" data-bind="click:appendLogList,visible:logList().length>=space.limitSelect" title="更多话题"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button><br><br><!-- 避免太靠近底栏圆形按钮 --></fieldset></div><div class="Scene" data-bind="visible:sceneLog()==='LOG_ONE'"><fieldset class="ViewPageScroll" data-bind="css:{ HasReplyEditor: logNow().aiid }"><button class="Tecon Return" data-bind="click: back2ListLog"><i class="fa fa-undo"></i> 返 回</button><div data-bind="if:logNow().ownerSid===starModel.onlinePerson().aiid || !logNow().aiid"><!-- 是我已建的，或新建的提问 --><div data-bind="event:{ change: updateLog}"><fieldset class="PlogItem Alone"><div class="Left Clickable" data-bind="click:showPerson.bind($data, starModel.onlinePerson())"><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(starModel.onlinePerson().icon, true)}"></div><div class="Text Nick" data-bind="text: starModel.onlinePerson().nick"></div></div><fieldset class="Middle"><input class="Text Line Title" type="text" required placeholder="请输入标题" data-bind="attr:{maxlength:sow.Const.MAX_TITLE}, value:logNow().title"></fieldset><div class="Bottom" data-bind="if:logNow().aiid"><div class="Tecon Length" title="正文长度"><i class="fa fa-font"></i> <span data-bind="text:space.contentLength(logNow().content)"></span></div><div class="Tecon Length" title="图片数量"><i class="fa fa-image"></i> <span data-bind="text:space.imageCount(logNow().content)"></span></div><!--div class="Tecon VoteGood" data-bind="text:logNow().voteGood?logNow().voteGood:0"></div--><div class="Tecon Reply" title="回复数量"><i class="fa fa-reply"></i> <span data-bind="text:logNow().replyCount||0"></span></div><div class="Text DateTime" data-bind="text:Date.formatDate(logNow().whenInserted, 'yyyy-mm-ddHH:MM')"></div></div></fieldset><div class="Block Story Editor"><div data-bind="foreach:logNow().content, value: new Sortable($element,{ animation:200, handle:'.DeleteSection', chosenClass:'Chosen2Move', dragClass:'OnMoving', onEnd: function(evt){ editor.switchSection(evt,logNow().content,updateLog); } } )"><fieldset class="StoryItem" data-bind="if:$data"><textarea class="Text Area" data-bind="visible:$data.hasOwnProperty('text'), value:$data.text, with:sow.UI.autoHeightTextarea($element)" maxlength="10000" placeholder="请输入文字。" title="点击修改文字"></textarea> <img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}, click: editor.uploadImage.bind($parent, $index(), $parent.logNow, 'content', $parent.updateLog)" title="点击修改图片"><!-- 2016-08-23 苦战一天，终于发现，swipeleft 事件里，执行 input file 元素的 click 是无效的，必须改成 click 事件里执行 click 才可以。 --><!-- 不要在这里定义 file input, 以免重新选择文件后，激发一次无用的 updateLog --><div class="Icon DeleteSection" data-bind="click:editor.deleteSection.bind($parent, $index(), $parent.logNow, 'content', $parent.updateLog)" title="点击删除，或者拖拽排序">☰</div></fieldset></div><div class="Toolbar"><!--div class="Text Line Feedback Save" data-bind="text:editor.feedback()"></div--> <button class="Tecon AddText" data-bind="click: editor.addText.bind($data, $data.logNow, 'content')"><i class="fas fa-pencil-alt"></i> 文 字</button> <button class="Tecon AddImage" data-bind="click: editor.uploadImage.bind($data, undefined, $data.logNow, 'content', updateLog.bind($data))"><i class="far fa-image"></i> 图 片</button></div></div></div><button class="Button Submit" data-bind="click: createLog, visible: !logNow().aiid"><i class="fa fa-upload"></i> 发 布</button><!-- 备用：button class="Tecon Save">保存修改</button--> <button class="Tecon Delete" data-bind="visible: logNow().aiid, click: deleteLogNow">删除本文</button></div><div data-bind="ifnot: logNow().ownerSid===starModel.onlinePerson().aiid || !logNow().aiid"><!-- 不是我写的，并且是已经存在的：主人的日志或他人的提问 --><fieldset class="PlogItem Alone Reader"><div class="Left"><div data-bind="if:logNow().ownerSid===project().ownerSid"><!-- 主人的日志 --><div class="Text Date" data-bind="html:parseWhen(logNow().whenInserted)"></div></div><div class="Clickable" data-bind="ifnot:logNow().ownerSid===project().ownerSid, click:space.showPerson.bind($data, sow.Tool.readPath('logNow()._data.owner',$data))"><!-- 否则就是别人的提问 --><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('logNow()._data.owner.icon',$data), true)}"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('logNow()._data.owner.nick',$data)"></div></div></div><fieldset class="Middle"><pre class="Text Line Title" data-bind="text:logNow().title"></pre></fieldset><div class="Bottom"><div class="Tecon Length" title="正文长度"><i class="fa fa-font"></i> <span data-bind="text:space.contentLength(logNow().content)"></span></div><div class="Tecon Length" title="图片数量"><i class="fa fa-image"></i> <span data-bind="text:space.imageCount(logNow().content)"></span></div><!--div class="Tecon VoteGood" data-bind="text:logNow().voteGood?logNow().voteGood:0"></div--><div class="Tecon Reply" title="回复数量"><i class="fa fa-reply"></i> <span data-bind="text:logNow().replyCount||0"></span></div><div class="Text DateTime" data-bind="text:logNow().ownerSid===project().ownerSid?Date.formatDate(logNow().whenInserted,'HH:MM'):Date.formatDate(logNow().whenInserted, 'yyyy-mm-ddHH:MM')"></div></div></fieldset><div class="Block Story Reader InLog" data-bind="foreach:logNow().content"><pre class="Text Area" data-bind="visible:$data.hasOwnProperty('text') && space.textLength($data.text)>0, html: sow.Tool.filterUrl($data.text)"></pre><img data-bind="visible:$data.hasOwnProperty('image'), attr:{src:space.path2url($data.image)}"></div></div><button class="LoadButton" data-bind="click:refreshReplySet,visible:logNow().aiid" title="最新回复"><span class="DotLoader" data-bind="css:{Active:busyRefreshing}"><div></div><div></div><div></div></span></button><div class="Block List ReplySet" data-bind="foreach: replySet,visible:logNow().aiid && replySet().length"><fieldset class="ReplyItem" data-bind="css:{HostMsg : starModel.targetPerson().aiid===sow.Tool.readPath('_data.owner.aiid',$data),MyMsg: starModel.onlinePerson().aiid===sow.Tool.readPath('_data.owner.aiid',$data) }"><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('_data.owner.icon',$data), true)}, click:space.showPerson.bind($parent, $data._data.owner)"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('_data.owner.nick',$data)"></div><pre class="Text Area" data-bind="text:sow.Tool.readPath('content.text',$data)"></pre><div class="Bottom"><div class="Text Date" data-bind="text: Date.formatDate($data.whenInserted, 'yyyy-mm-ddHH:MM')"></div></div></fieldset></div><button class="LoadButton" data-bind="click:appendReplySet,visible:replySet().length>=space.limitSelect" title="更多回复"><span class="DotLoader" data-bind="css:{Active:busyAppending}"><div></div><div></div><div></div></span></button></fieldset><div class="Block Reply Editor" data-bind="visible:logNow().aiid"><textarea placeholder="我要回复" data-bind="attr:{maxlength:sow.Const.MAX_TITLE}, value:newReply().content.text, with:sow.UI.autoHeightTextarea($element)"></textarea> <button class="Button Reply" data-bind="click:replyMessage.bind($data,logNow,sow.Tool.getPrevSibling($element))"></button></div></div></div><!-- STAGE --><div id="urProjectChat" class="Stage" data-bind="css:{ActiveView:stageNow()==='STAGE_CHAT'}"><div class="Scene" data-bind="with:chatroom.setModel({chatWindow:$element.getElementsByClassName('ChatWindow')[0], chatContent:$element.getElementsByClassName('ChatContent')[0]})"><!--div class="SceneHeader Project" data-bind="style:{backgroundImage:space.path2url($parent.project().bgimage, true)}"></div--><fieldset class="ViewPage"><div class="ChatHeader"><div class="Cover Head"><span style="float:left" data-bind="text:(roomInfo().onlineCount||0) + ' 成员，' + (roomInfo().anonCount||0) + ' 游客'"></span><!--button class="Tecon Return" data-bind="click: $parent.sceneLog.bind($data,'LOG_LIST')"><i class="fa fa-undo"></i> 返 回</button--></div></div><div class="ChatWindow"><div class="ChatContent" data-bind="foreach: chatMessageList"><fieldset class="ChatItem" data-bind="css:{ MyMsg: starModel.onlinePerson().aiid===sow.Tool.readPath('_data.owner.aiid',$data) }"><div class="Image Portrait" data-bind="style:{backgroundImage:space.path2url(sow.Tool.readPath('_data.owner.icon',$data), true)}, click:space.showPerson.bind($parent, $data._data.owner)"></div><div class="Text Nick" data-bind="text: sow.Tool.readPath('_data.owner.nick',$data)"></div><pre class="Text Area" data-bind="html: sow.Tool.filterUrl($data.content.text), visible: $data.content.text"></pre><img class="Message Image" data-bind="attr:{src: $data.content.image}, visible:$data.content.image"><audio class="AudioPlayer" preload="meta" controls data-bind="visible:$data.content.audio, attr:{src: space.path2url($data.content.audio)}">您的系统不支持播放本音频</audio></fieldset></div></div></fieldset><div class="Block Reply Editor"><!--button data-bind="click:sendChatAudio" style="position:absolute;top:-20px;left:0;">斗一首歌</button--> <textarea placeholder="输入文字发言，或点击按钮贴图。" data-bind="attr:{maxlength:sow.Const.MAX_TITLE}, value:newChatText, with:sow.UI.autoHeightTextarea($element)"></textarea> <button class="Button Reply" data-bind="click:sendChatMessage.bind($data,sow.Tool.getPrevSibling($element))"></button></div></div><!-- end of scene --></div><!-- end of stage --><div class="Footer"><!--div class="StageMenu">
        <nav class="FootPace" style="width:25%;" data-bind="click: stageNow.bind($data,'STAGE_DREAM'), css: {Doing: stageNow()==='STAGE_DREAM',Done:stageNow()!=='STAGE_DREAM'}"><span class="Middle"></span><span class="Right"></span>梦 想</nav>
        <nav class="FootPace" style="width:25%;" data-bind="click: stageNow.bind($data,'STAGE_TEAM'), css: {Todo:stageNow()==='STAGE_DREAM',Doing: stageNow()==='STAGE_TEAM',Done:stageNow()==='STAGE_CHIP'||stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><span class="Right"></span>招 人</nav>
        <nav class="FootPace" style="width:25%;" data-bind="click: stageNow.bind($data,'STAGE_CHIP'), css: {Todo:stageNow()==='STAGE_DREAM'||stageNow()==='STAGE_TEAM',Doing: stageNow()==='STAGE_CHIP',Done:stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><span class="Right"></span>筹 钱</nav>
        <nav class="FootPace" style="width:25%;" data-bind="click: stageNow.bind($data,'STAGE_LOG'), css: {Todo:stageNow()!=='STAGE_LOG',Doing: stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span>社 区</nav>
      </div--><div class="StageMenu"><nav class="FootPace" style="width:20%" data-bind="click: stageNow.bind($data,'STAGE_DREAM'), css: {Doing: stageNow()==='STAGE_DREAM', Done:stageNow()!=='STAGE_DREAM'}"><span class="Middle"></span><span class="Right"></span><br>梦 想</nav><nav class="FootPace" style="width:20%" data-bind="click: stageNow.bind($data,'STAGE_CHIP'), css: {Todo:stageNow()==='STAGE_DREAM', Doing:stageNow()==='STAGE_CHIP', Done:stageNow()==='STAGE_CHAT'||stageNow()==='STAGE_TEAM'||stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><span class="Right"></span><br>筹 钱</nav><nav class="FootPace" style="width:20%" data-bind="click: stageNow.bind($data,'STAGE_CHAT'), css: {Todo:stageNow()==='STAGE_DREAM'||stageNow()==='STAGE_CHIP', Doing:stageNow()==='STAGE_CHAT', Done:stageNow()==='STAGE_TEAM'||stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><span class="Right"></span><br>开 会</nav><nav class="FootPace" style="width:20%" data-bind="click: stageNow.bind($data,'STAGE_TEAM'), css: {Todo:['STAGE_DREAM','STAGE_CHIP','STAGE_CHAT'].indexOf(stageNow())>=0, Doing: stageNow()==='STAGE_TEAM', Done: stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><span class="Right"></span><br>招 人</nav><nav class="FootPace" style="width:20%" data-bind="click: stageNow.bind($data,'STAGE_LOG'), css: {Todo:stageNow()!=='STAGE_LOG',Doing: stageNow()==='STAGE_LOG'}"><span class="Left"></span><span class="Middle"></span><br>社 区</nav></div></div></div></body><!-- my quick code --><!-- // 库文件的搜索顺序：1. 当前应用目录下的soweb目录(也许是用linkd.exe建立的硬链接)，2. sow.faronear.com/。--><!-- 不再用php判断库目录，然后引用时 src="<?php echo $LIBPATH; ?>xxx.js"。因为现在不管混合应用还是Web网页，都直接把库放在同目录下了。--><!--?php if (file_exists('/_sow/')) { $LIBPATH='/_sow/'; }
else { $LIBPATH='http://sow.faronear.com/'; }  ?--><!-- 3rd party libraries --> <!--link type="text/css" rel="stylesheet" href="/_sow/lib/swiper/swiper-3.3.1.min.css" /--><!-- 必须在 swiper.js 之前引用。似乎，放在<head></head>里，比放在最后能大幅度减少在 iphone-Safari上初次加载页面停留在swiper最后一页的错误几率。 --><!-- <link rel="stylesheet" href="/_sow/lib/mui/css/mui.min.css">
<link rel="stylesheet" type="text/css" href="/_sow/lib/mui/css/mui.picker.min.css" /> --><link type="text/css" rel="stylesheet" media="all" href="view.min.css"><!-- 注意到，必须在 swiper.css 后面，否则slide的标签显示错误 --><link rel="stylesheet" href="/_sow/lib/FontAwesome/5.0.1/web-fonts-with-css/css/fontawesome-all.min.css"><!--[if lt IE 9]><script type="text/javascript" src="/_sow/lib/html5.js"></script><![endif]--><!-- 让老浏览器识别HTML5元素。原版：http://html5shiv.googlecode.com/svn/trunk/html5.js --><script type="text/javascript" src="/_sow/lib/device/device.min.js"></script><!-- https://github.com/matthewhudson/device.js/ --><script type="text/javascript" src="/_sow/lib/jquery/jquery-1.8.3.min.js"></script><script type="text/javascript" src="/_sow/lib/socket.io/socket.io-1.0.6.min.js"></script><!-- 通用。可从node_modules/socket.io-client/dist/ 目录下获得 --> <!--script type="text/javascript" src="http://localhost:6327/socket.io/socket.io.js"></script--><!-- 本地测试 --> <!--script type="text/javascript" src="http://solet.faronear.com:6327/socket.io/socket.io.js"></script--><!-- 手机应用。web通用。 --><script type="text/javascript" src="/_sow/lib/jquery.mobile/jquery.mobile.custom-1.4.5.min.js"></script><script type="text/javascript" src="/_sow/lib/knockout/knockout-3.4.2.min.js"></script><!--script type="text/javascript" src="/_sow/lib/swiper/swiper-3.3.1.min.js"></script--><!-- http://www.swiper.com.cn/ --><script type="text/javascript" src="/_sow/lib/clipboard/clipboard-1.5.15.min.js"></script><!-- http://clipboardjs.com/ --><!--script type="text/javascript" src="/_sow/lib/jquery.qrcode/jquery.qrcode.min.js"></script--><script type="text/javascript" src="/_sow/lib/qrcodejs/v0.0.1/qrcode.min.js"></script><script type="text/javascript" src="/_sow/lib/radialIndicator/v1.3.1/radialIndicator.min.js"></script><!--script type="text/javascript" src="/_sow/lib/jquery.knob/jquery.knob-1.2.13.min.js"></script--><script type="text/javascript" src="/_sow/lib/Sortable/Sortable.min.js"></script><!--script type="text/javascript" src="/_sow/lib/datejs/v1.0.0/build/date.js"></script--><!--script type="text/javascript" src="/_sow/lib/moment/moment-with-locales.min.js"></script--><!-- kalendae
<link type="text/css" rel="stylesheet" href="/_sow/lib/kalendae/v0.6.1/kalendae.css" charset="utf-8" />
<script type="text/javascript" src="/_sow/lib/kalendae/v0.6.1/kalendae.standalone.min.js" charset="utf-8"></script>
--><!-- jQuery UI datepicker: with:$($element).datepicker({changeMonth:true,changeYear:true,defaultDate: new Date(new Date().setDate(new Date().getDate()+90)) })
<link type="text/css" rel="stylesheet" href="/_sow/lib/jquery.ui/jquery-ui.min.css" />
<script type="text/javascript" src="/_sow/lib/jquery.ui/jquery-ui.min.js"></script>
<script type="text/javascript" src="/_sow/lib/jquery.ui/datepicker-zh-CN.min.js"></script>
--><!-- jQuery datetimepicker: 
<link type="text/css" rel="stylesheet" href="/_sow/lib/jquery.datetimepicker/jquery.datetimepicker-2.5.4.min.css" />
<script type="text/javascript" src="/_sow/lib/jquery.datetimepicker/jquery.datetimepicker.full-2.5.4.min.js"></script>
--><link type="text/css" rel="stylesheet" href="/_sow/lib/datedropper/v3.0.0/datedropper.min.css"><script type="text/javascript" src="/_sow/lib/datedropper/v3.0.0/datedropper.min.js"></script><!-- <script src="/_sow/lib/mui/js/mui.min.js"></script>
<script src="/_sow/lib/mui/js/mui.picker.min.js"></script> --> <!--script type="text/javascript" src="https://api.map.baidu.com/api?v=1.4"></script--><!-- 自1.5起，需要密钥才能使用：v=1.5&ak=Wex9GhS75wDU2mXqZUYqW9xP --><!-- app libraries --><script type="text/javascript" src="model.full.min.js"></script><script type="text/javascript" src="locale.js"></script></html>